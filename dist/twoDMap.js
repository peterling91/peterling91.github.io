document.addEventListener("DOMContentLoaded", function () {
  const svg = d3.select("#two-map-container").select("svg");
  const g = svg.select(".two-d-svg.cls-3");
  const width = parseFloat(svg.attr("width").replace("px", ""));
  const height = parseFloat(svg.attr("height").replace("px", ""));
  //zoom level

  const initialScale = 0.2;
  let currentZoomLevel = 1;
  const zoomLevels = { 5: 3, 4: 2.5, 3: 2, 2: 1.5, 1: 1 };
  const zoom = d3
    .zoom()
    .scaleExtent([zoomLevels[1], zoomLevels[5]])
    .on("zoom", function (event) {
      g.attr("transform", event.transform); // Apply the zoom transformation
    });
  d3.select("#zoom-in").on("click", function () {
    currentZoomLevel = Math.min(5, currentZoomLevel + 1);
    zoomToLevel(currentZoomLevel);
  });
  d3.select("#zoom-out").on("click", function () {
    currentZoomLevel = Math.max(1, currentZoomLevel - 1);
    zoomToLevel(currentZoomLevel);
  });

  // Center SVG content on window resize
  window.addEventListener("resize", function () {
    zoomToLevel(currentZoomLevel);
  });
  function zoomToLevel(level) {
    const scale = zoomLevels[level];
    const translateX = (width - width * scale) / 2;
    const translateY = (height - height * scale) / 2;
    svg
      .transition()
      .duration(250)
      .call(
        zoom.transform,
        d3.zoomIdentity.translate(translateX, translateY).scale(scale),
      );
  }
  svg.call(zoom); // Initialize zoom

  const svgContainer = d3.select("svg"); // If your SVG container is the entire SVG element

  svgContainer
    .selectAll(".map-marker")
    .on("mouseover", function (d, i) {
      // Find the corresponding tooltip using the marker's ID
      const tooltipId = `two-d-map-tooltip${i + 1}`;
      const tooltip = d3.select(`#${tooltipId}`);

      // Set tooltip content (if needed)
      tooltip.text(markers[i].label); // assuming your markers array is in the same scope

      // Display the tooltip and position it based on the marker's coordinates
      tooltip
        .style("visibility", "visible")
        .style("top", markers[i].y - 10 + "px")
        .style("left", markers[i].x + 10 + "px");
    })
    .on("mouseout", function (d, i) {
      // Hide the tooltip when the mouse is no longer over the marker
      const tooltipId = `two-d-map-tooltip${i + 1}`;
      d3.select(`#${tooltipId}`).style("visibility", "hidden");
    });

  // lettering on svg marker
  function getMarkerLetterPath(markerId, letterColor) {
    const tooltipTextColor = "#1D1E24";

    switch (markerId) {
      //A
      case "two-d-map1":
        return {
          mainLetter: `<path class="marker-letter" d="M51.7745 67H49.7972L52.81 58.2727H55.1879L58.1964 67H56.2191L55.5714 65.0099H52.4222L51.7745 67ZM52.891 63.5696H55.1069L54.033 60.267H53.9648L52.891 63.5696Z" fill="${letterColor}"/>`,
          tooltipLetter: `<path class="tooltip-letter" d="M28.8849 29V18.8182H32.9616C35.2088 18.8182 36.3423 19.902 36.3423 21.4283C36.3423 22.6264 35.5618 23.3771 34.5028 23.6158V23.7152C35.6612 23.7699 36.7401 24.6797 36.7401 26.1861C36.7401 27.8068 35.522 29 33.2351 29H28.8849ZM31.0376 27.2401H32.7926C33.9957 27.2401 34.5178 26.7379 34.5178 25.9723C34.5178 25.1321 33.8764 24.5355 32.8423 24.5355H31.0376V27.2401ZM31.0376 23.0788H32.6335C33.5135 23.0788 34.1697 22.5916 34.1697 21.7862C34.1697 21.0504 33.6278 20.5582 32.6733 20.5582H31.0376V23.0788ZM40.2189 18.8182V29H38.101V18.8182H40.2189ZM45.3658 29.1491C43.049 29.1491 41.6072 27.5632 41.6072 25.2116C41.6072 22.8452 43.049 21.2642 45.3658 21.2642C47.6825 21.2642 49.1243 22.8452 49.1243 25.2116C49.1243 27.5632 47.6825 29.1491 45.3658 29.1491ZM45.3757 27.5085C46.4247 27.5085 46.9716 26.5291 46.9716 25.1967C46.9716 23.8643 46.4247 22.88 45.3757 22.88C44.3068 22.88 43.7599 23.8643 43.7599 25.1967C43.7599 26.5291 44.3068 27.5085 45.3757 27.5085ZM53.9517 29.1491C51.6001 29.1491 50.1932 27.5334 50.1932 25.2116C50.1932 22.87 51.625 21.2642 53.9418 21.2642C55.9354 21.2642 57.2727 22.4226 57.3622 24.1875H55.3636C55.2493 23.4268 54.7521 22.9148 53.9766 22.9148C52.9922 22.9148 52.3459 23.7401 52.3459 25.1818C52.3459 26.6435 52.9872 27.4737 53.9766 27.4737C54.7024 27.4737 55.2393 27.0163 55.3636 26.201H57.3622C57.2628 27.956 55.9851 29.1491 53.9517 29.1491ZM58.7182 29V18.8182H60.8361V24.2621H60.9505L63.3965 21.3636H65.8276L62.9938 24.6697L65.9718 29H63.4909L61.4078 25.9226L60.8361 26.5739V29H58.7182ZM71.9016 29H69.5948L73.1097 18.8182H75.8839L79.3938 29H77.087L76.3313 26.6783H72.6573L71.9016 29ZM73.2042 24.9979H75.7894L74.5366 21.1449H74.457L73.2042 24.9979Z" fill="#393C47"/>`,
        };
      //B
      case "two-d-map2":
        return {
          mainLetter: `<path class="marker-letter" d="M50.7917 67V58.2727H54.286C56.2122 58.2727 57.1838 59.2017 57.1838 60.5099C57.1838 61.5369 56.5147 62.1804 55.6071 62.3849V62.4702C56.6 62.517 57.5247 63.2969 57.5247 64.5881C57.5247 65.9773 56.4806 67 54.5204 67H50.7917ZM52.6369 65.4915H54.1412C55.1724 65.4915 55.6199 65.0611 55.6199 64.4048C55.6199 63.6847 55.0701 63.1733 54.1838 63.1733H52.6369V65.4915ZM52.6369 61.9247H54.0048C54.7591 61.9247 55.3216 61.5071 55.3216 60.8168C55.3216 60.1861 54.8571 59.7642 54.0389 59.7642H52.6369V61.9247Z" fill="${letterColor}"/>`,
          tooltipLetter: `<path class="tooltip-letter" d="M28.8849 29V18.8182H32.9616C35.2088 18.8182 36.3423 19.902 36.3423 21.4283C36.3423 22.6264 35.5618 23.3771 34.5028 23.6158V23.7152C35.6612 23.7699 36.7401 24.6797 36.7401 26.1861C36.7401 27.8068 35.522 29 33.2351 29H28.8849ZM31.0376 27.2401H32.7926C33.9957 27.2401 34.5178 26.7379 34.5178 25.9723C34.5178 25.1321 33.8764 24.5355 32.8423 24.5355H31.0376V27.2401ZM31.0376 23.0788H32.6335C33.5135 23.0788 34.1697 22.5916 34.1697 21.7862C34.1697 21.0504 33.6278 20.5582 32.6733 20.5582H31.0376V23.0788ZM40.2189 18.8182V29H38.101V18.8182H40.2189ZM45.3658 29.1491C43.049 29.1491 41.6072 27.5632 41.6072 25.2116C41.6072 22.8452 43.049 21.2642 45.3658 21.2642C47.6825 21.2642 49.1243 22.8452 49.1243 25.2116C49.1243 27.5632 47.6825 29.1491 45.3658 29.1491ZM45.3757 27.5085C46.4247 27.5085 46.9716 26.5291 46.9716 25.1967C46.9716 23.8643 46.4247 22.88 45.3757 22.88C44.3068 22.88 43.7599 23.8643 43.7599 25.1967C43.7599 26.5291 44.3068 27.5085 45.3757 27.5085ZM53.9517 29.1491C51.6001 29.1491 50.1932 27.5334 50.1932 25.2116C50.1932 22.87 51.625 21.2642 53.9418 21.2642C55.9354 21.2642 57.2727 22.4226 57.3622 24.1875H55.3636C55.2493 23.4268 54.7521 22.9148 53.9766 22.9148C52.9922 22.9148 52.3459 23.7401 52.3459 25.1818C52.3459 26.6435 52.9872 27.4737 53.9766 27.4737C54.7024 27.4737 55.2393 27.0163 55.3636 26.201H57.3622C57.2628 27.956 55.9851 29.1491 53.9517 29.1491ZM58.7182 29V18.8182H60.8361V24.2621H60.9505L63.3965 21.3636H65.8276L62.9938 24.6697L65.9718 29H63.4909L61.4078 25.9226L60.8361 26.5739V29H58.7182ZM70.1467 29V18.8182H74.2234C76.4705 18.8182 77.604 19.902 77.604 21.4283C77.604 22.6264 76.8235 23.3771 75.7646 23.6158V23.7152C76.9229 23.7699 78.0018 24.6797 78.0018 26.1861C78.0018 27.8068 76.7837 29 74.4968 29H70.1467ZM72.2994 27.2401H74.0543C75.2575 27.2401 75.7795 26.7379 75.7795 25.9723C75.7795 25.1321 75.1381 24.5355 74.104 24.5355H72.2994V27.2401ZM72.2994 23.0788H73.8952C74.7752 23.0788 75.4315 22.5916 75.4315 21.7862C75.4315 21.0504 74.8896 20.5582 73.935 20.5582H72.2994V23.0788Z" fill="#393C47"/>`,
        };
      //C
      case "two-d-map3":
        return {
          mainLetter: `<path class="marker-letter" d="M57.9471 61.3281H56.0806C55.94 60.3693 55.2113 59.7855 54.2013 59.7855C52.8505 59.7855 51.9641 60.821 51.9641 62.6364C51.9641 64.5028 52.8633 65.4872 54.1886 65.4872C55.1729 65.4872 55.9059 64.9503 56.0806 64.017L57.9471 64.0256C57.7468 65.6321 56.396 67.1193 54.1587 67.1193C51.8235 67.1193 50.0934 65.483 50.0934 62.6364C50.0934 59.7812 51.8533 58.1534 54.1587 58.1534C56.1786 58.1534 57.7042 59.3125 57.9471 61.3281Z" fill="${letterColor}"/>`,
          tooltipLetter: `<path class="tooltip-letter" d="M28.8849 29V18.8182H32.9616C35.2088 18.8182 36.3423 19.902 36.3423 21.4283C36.3423 22.6264 35.5618 23.3771 34.5028 23.6158V23.7152C35.6612 23.7699 36.7401 24.6797 36.7401 26.1861C36.7401 27.8068 35.522 29 33.2351 29H28.8849ZM31.0376 27.2401H32.7926C33.9957 27.2401 34.5178 26.7379 34.5178 25.9723C34.5178 25.1321 33.8764 24.5355 32.8423 24.5355H31.0376V27.2401ZM31.0376 23.0788H32.6335C33.5135 23.0788 34.1697 22.5916 34.1697 21.7862C34.1697 21.0504 33.6278 20.5582 32.6733 20.5582H31.0376V23.0788ZM40.2189 18.8182V29H38.101V18.8182H40.2189ZM45.3658 29.1491C43.049 29.1491 41.6072 27.5632 41.6072 25.2116C41.6072 22.8452 43.049 21.2642 45.3658 21.2642C47.6825 21.2642 49.1243 22.8452 49.1243 25.2116C49.1243 27.5632 47.6825 29.1491 45.3658 29.1491ZM45.3757 27.5085C46.4247 27.5085 46.9716 26.5291 46.9716 25.1967C46.9716 23.8643 46.4247 22.88 45.3757 22.88C44.3068 22.88 43.7599 23.8643 43.7599 25.1967C43.7599 26.5291 44.3068 27.5085 45.3757 27.5085ZM53.9517 29.1491C51.6001 29.1491 50.1932 27.5334 50.1932 25.2116C50.1932 22.87 51.625 21.2642 53.9418 21.2642C55.9354 21.2642 57.2727 22.4226 57.3622 24.1875H55.3636C55.2493 23.4268 54.7521 22.9148 53.9766 22.9148C52.9922 22.9148 52.3459 23.7401 52.3459 25.1818C52.3459 26.6435 52.9872 27.4737 53.9766 27.4737C54.7024 27.4737 55.2393 27.0163 55.3636 26.201H57.3622C57.2628 27.956 55.9851 29.1491 53.9517 29.1491ZM58.7182 29V18.8182H60.8361V24.2621H60.9505L63.3965 21.3636H65.8276L62.9938 24.6697L65.9718 29H63.4909L61.4078 25.9226L60.8361 26.5739V29H58.7182ZM79.1303 22.3828H76.9528C76.7887 21.2642 75.9386 20.5831 74.7603 20.5831C73.1843 20.5831 72.1502 21.7912 72.1502 23.9091C72.1502 26.0866 73.1992 27.2351 74.7454 27.2351C75.8938 27.2351 76.7489 26.6087 76.9528 25.5199L79.1303 25.5298C78.8967 27.4041 77.3207 29.1392 74.7106 29.1392C71.9862 29.1392 69.9677 27.2301 69.9677 23.9091C69.9677 20.5781 72.021 18.679 74.7106 18.679C77.0671 18.679 78.8469 20.0312 79.1303 22.3828Z" fill="#393C47"/>`,
        };
      //D
      case "two-d-map4":
        return {
          mainLetter: `<path class="marker-letter" d="M53.487 67H50.3933V58.2727H53.5126C56.1461 58.2727 57.7569 59.9091 57.7569 62.6278C57.7569 65.3551 56.1461 67 53.487 67ZM52.2385 65.419H53.4103C55.051 65.419 55.916 64.5753 55.916 62.6278C55.916 60.6889 55.051 59.8537 53.4146 59.8537H52.2385V65.419Z" fill="${letterColor}"/>`,
          tooltipLetter: `<path class="tooltip-letter" d="M28.8849 29V18.8182H32.9616C35.2088 18.8182 36.3423 19.902 36.3423 21.4283C36.3423 22.6264 35.5618 23.3771 34.5028 23.6158V23.7152C35.6612 23.7699 36.7401 24.6797 36.7401 26.1861C36.7401 27.8068 35.522 29 33.2351 29H28.8849ZM31.0376 27.2401H32.7926C33.9957 27.2401 34.5178 26.7379 34.5178 25.9723C34.5178 25.1321 33.8764 24.5355 32.8423 24.5355H31.0376V27.2401ZM31.0376 23.0788H32.6335C33.5135 23.0788 34.1697 22.5916 34.1697 21.7862C34.1697 21.0504 33.6278 20.5582 32.6733 20.5582H31.0376V23.0788ZM40.2189 18.8182V29H38.101V18.8182H40.2189ZM45.3658 29.1491C43.049 29.1491 41.6072 27.5632 41.6072 25.2116C41.6072 22.8452 43.049 21.2642 45.3658 21.2642C47.6825 21.2642 49.1243 22.8452 49.1243 25.2116C49.1243 27.5632 47.6825 29.1491 45.3658 29.1491ZM45.3757 27.5085C46.4247 27.5085 46.9716 26.5291 46.9716 25.1967C46.9716 23.8643 46.4247 22.88 45.3757 22.88C44.3068 22.88 43.7599 23.8643 43.7599 25.1967C43.7599 26.5291 44.3068 27.5085 45.3757 27.5085ZM53.9517 29.1491C51.6001 29.1491 50.1932 27.5334 50.1932 25.2116C50.1932 22.87 51.625 21.2642 53.9418 21.2642C55.9354 21.2642 57.2727 22.4226 57.3622 24.1875H55.3636C55.2493 23.4268 54.7521 22.9148 53.9766 22.9148C52.9922 22.9148 52.3459 23.7401 52.3459 25.1818C52.3459 26.6435 52.9872 27.4737 53.9766 27.4737C54.7024 27.4737 55.2393 27.0163 55.3636 26.201H57.3622C57.2628 27.956 55.9851 29.1491 53.9517 29.1491ZM58.7182 29V18.8182H60.8361V24.2621H60.9505L63.3965 21.3636H65.8276L62.9938 24.6697L65.9718 29H63.4909L61.4078 25.9226L60.8361 26.5739V29H58.7182ZM73.756 29H70.1467V18.8182H73.7859C76.8583 18.8182 78.7376 20.7273 78.7376 23.8991C78.7376 27.081 76.8583 29 73.756 29ZM72.2994 27.1555H73.6665C75.5806 27.1555 76.5898 26.1712 76.5898 23.8991C76.5898 21.6371 75.5806 20.6626 73.6715 20.6626H72.2994V27.1555Z" fill="#393C47"/>`,
        };
      case "two-d-map5":
        return {
          mainLetter: `<text class="marker-letter-text" x="47" y="67.5" fill="${letterColor}">D1</text>`,
          tooltipLetter: `<text class="marker-letter-tooltip-text" x="24.5" y="29" fill="${tooltipTextColor}">Block D1</text>`,
        };
      //E
      case "two-d-map6":
        return {
          mainLetter: `<text class="marker-letter-text" x="50.5" y="67.5" fill="${letterColor}">E</text>`,
          tooltipLetter: `<text class="marker-letter-tooltip-text" x="29" y="29" fill="${tooltipTextColor}">Block E</text>`,
        };
      //F
      case "two-d-map7":
        return {
          mainLetter: `<g transform="translate(1,1)"><path class="marker-letter" d="M50.2488 67V58.2727H56.0272V59.794H52.0939V61.8736H55.6436V63.3949H52.0939V67H50.2488Z" fill="${letterColor}"/></g>`,
          tooltipLetter: `<path class="tooltip-letter" d="M28.8849 29V18.8182H32.9616C35.2088 18.8182 36.3423 19.902 36.3423 21.4283C36.3423 22.6264 35.5618 23.3771 34.5028 23.6158V23.7152C35.6612 23.7699 36.7401 24.6797 36.7401 26.1861C36.7401 27.8068 35.522 29 33.2351 29H28.8849ZM31.0376 27.2401H32.7926C33.9957 27.2401 34.5178 26.7379 34.5178 25.9723C34.5178 25.1321 33.8764 24.5355 32.8423 24.5355H31.0376V27.2401ZM31.0376 23.0788H32.6335C33.5135 23.0788 34.1697 22.5916 34.1697 21.7862C34.1697 21.0504 33.6278 20.5582 32.6733 20.5582H31.0376V23.0788ZM40.2189 18.8182V29H38.101V18.8182H40.2189ZM45.3658 29.1491C43.049 29.1491 41.6072 27.5632 41.6072 25.2116C41.6072 22.8452 43.049 21.2642 45.3658 21.2642C47.6825 21.2642 49.1243 22.8452 49.1243 25.2116C49.1243 27.5632 47.6825 29.1491 45.3658 29.1491ZM45.3757 27.5085C46.4247 27.5085 46.9716 26.5291 46.9716 25.1967C46.9716 23.8643 46.4247 22.88 45.3757 22.88C44.3068 22.88 43.7599 23.8643 43.7599 25.1967C43.7599 26.5291 44.3068 27.5085 45.3757 27.5085ZM53.9517 29.1491C51.6001 29.1491 50.1932 27.5334 50.1932 25.2116C50.1932 22.87 51.625 21.2642 53.9418 21.2642C55.9354 21.2642 57.2727 22.4226 57.3622 24.1875H55.3636C55.2493 23.4268 54.7521 22.9148 53.9766 22.9148C52.9922 22.9148 52.3459 23.7401 52.3459 25.1818C52.3459 26.6435 52.9872 27.4737 53.9766 27.4737C54.7024 27.4737 55.2393 27.0163 55.3636 26.201H57.3622C57.2628 27.956 55.9851 29.1491 53.9517 29.1491ZM58.7182 29V18.8182H60.8361V24.2621H60.9505L63.3965 21.3636H65.8276L62.9938 24.6697L65.9718 29H63.4909L61.4078 25.9226L60.8361 26.5739V29H58.7182ZM70.1467 29V18.8182H76.8881V20.593H72.2994V23.0192H76.4407V24.794H72.2994V29H70.1467Z" fill="#393C47"/>`,
        };
      //G
      case "two-d-map8":
        return {
          mainLetter: `<path class="marker-letter" d="M55.981 61.0938C55.7466 60.2756 55.1032 59.7855 54.1529 59.7855C52.8191 59.7855 51.9114 60.8125 51.9114 62.6278C51.9114 64.4517 52.785 65.4872 54.1699 65.4872C55.3972 65.4872 56.1344 64.8011 56.16 63.7188H54.285V62.3295H57.937V63.429C57.937 65.7259 56.3645 67.1193 54.1614 67.1193C51.7026 67.1193 50.0407 65.4062 50.0407 62.6449C50.0407 59.8153 51.8176 58.1534 54.123 58.1534C56.0961 58.1534 57.6174 59.3679 57.856 61.0938H55.981Z" fill="${letterColor}"/>`,
          tooltipLetter: `<path class="tooltip-letter" d="M28.8849 29V18.8182H32.9616C35.2088 18.8182 36.3423 19.902 36.3423 21.4283C36.3423 22.6264 35.5618 23.3771 34.5028 23.6158V23.7152C35.6612 23.7699 36.7401 24.6797 36.7401 26.1861C36.7401 27.8068 35.522 29 33.2351 29H28.8849ZM31.0376 27.2401H32.7926C33.9957 27.2401 34.5178 26.7379 34.5178 25.9723C34.5178 25.1321 33.8764 24.5355 32.8423 24.5355H31.0376V27.2401ZM31.0376 23.0788H32.6335C33.5135 23.0788 34.1697 22.5916 34.1697 21.7862C34.1697 21.0504 33.6278 20.5582 32.6733 20.5582H31.0376V23.0788ZM40.2189 18.8182V29H38.101V18.8182H40.2189ZM45.3658 29.1491C43.049 29.1491 41.6072 27.5632 41.6072 25.2116C41.6072 22.8452 43.049 21.2642 45.3658 21.2642C47.6825 21.2642 49.1243 22.8452 49.1243 25.2116C49.1243 27.5632 47.6825 29.1491 45.3658 29.1491ZM45.3757 27.5085C46.4247 27.5085 46.9716 26.5291 46.9716 25.1967C46.9716 23.8643 46.4247 22.88 45.3757 22.88C44.3068 22.88 43.7599 23.8643 43.7599 25.1967C43.7599 26.5291 44.3068 27.5085 45.3757 27.5085ZM53.9517 29.1491C51.6001 29.1491 50.1932 27.5334 50.1932 25.2116C50.1932 22.87 51.625 21.2642 53.9418 21.2642C55.9354 21.2642 57.2727 22.4226 57.3622 24.1875H55.3636C55.2493 23.4268 54.7521 22.9148 53.9766 22.9148C52.9922 22.9148 52.3459 23.7401 52.3459 25.1818C52.3459 26.6435 52.9872 27.4737 53.9766 27.4737C54.7024 27.4737 55.2393 27.0163 55.3636 26.201H57.3622C57.2628 27.956 55.9851 29.1491 53.9517 29.1491ZM58.7182 29V18.8182H60.8361V24.2621H60.9505L63.3965 21.3636H65.8276L62.9938 24.6697L65.9718 29H63.4909L61.4078 25.9226L60.8361 26.5739V29H58.7182ZM76.8981 22.1094C76.6246 21.1548 75.8739 20.5831 74.7653 20.5831C73.2092 20.5831 72.1502 21.7812 72.1502 23.8991C72.1502 26.027 73.1694 27.2351 74.7852 27.2351C76.217 27.2351 77.0771 26.4347 77.1069 25.1719H74.9194V23.5511H79.18V24.8338C79.18 27.5135 77.3455 29.1392 74.7752 29.1392C71.9066 29.1392 69.9677 27.1406 69.9677 23.919C69.9677 20.6179 72.0408 18.679 74.7305 18.679C77.0323 18.679 78.8072 20.0959 79.0856 22.1094H76.8981Z" fill="#393C47"/>`,
        };

      //H
      case "two-d-map9":
        return {
          mainLetter: `<path class="marker-letter" d="M50.282 67V58.2727H52.1271V61.8736H55.8729V58.2727H57.7138V67H55.8729V63.3949H52.1271V67H50.282Z" fill="${letterColor}"/>`,
          tooltipLetter: `<path class="tooltip-letter" d="M28.8849 29V18.8182H32.9616C35.2088 18.8182 36.3423 19.902 36.3423 21.4283C36.3423 22.6264 35.5618 23.3771 34.5028 23.6158V23.7152C35.6612 23.7699 36.7401 24.6797 36.7401 26.1861C36.7401 27.8068 35.522 29 33.2351 29H28.8849ZM31.0376 27.2401H32.7926C33.9957 27.2401 34.5178 26.7379 34.5178 25.9723C34.5178 25.1321 33.8764 24.5355 32.8423 24.5355H31.0376V27.2401ZM31.0376 23.0788H32.6335C33.5135 23.0788 34.1697 22.5916 34.1697 21.7862C34.1697 21.0504 33.6278 20.5582 32.6733 20.5582H31.0376V23.0788ZM40.2189 18.8182V29H38.101V18.8182H40.2189ZM45.3658 29.1491C43.049 29.1491 41.6072 27.5632 41.6072 25.2116C41.6072 22.8452 43.049 21.2642 45.3658 21.2642C47.6825 21.2642 49.1243 22.8452 49.1243 25.2116C49.1243 27.5632 47.6825 29.1491 45.3658 29.1491ZM45.3757 27.5085C46.4247 27.5085 46.9716 26.5291 46.9716 25.1967C46.9716 23.8643 46.4247 22.88 45.3757 22.88C44.3068 22.88 43.7599 23.8643 43.7599 25.1967C43.7599 26.5291 44.3068 27.5085 45.3757 27.5085ZM53.9517 29.1491C51.6001 29.1491 50.1932 27.5334 50.1932 25.2116C50.1932 22.87 51.625 21.2642 53.9418 21.2642C55.9354 21.2642 57.2727 22.4226 57.3622 24.1875H55.3636C55.2493 23.4268 54.7521 22.9148 53.9766 22.9148C52.9922 22.9148 52.3459 23.7401 52.3459 25.1818C52.3459 26.6435 52.9872 27.4737 53.9766 27.4737C54.7024 27.4737 55.2393 27.0163 55.3636 26.201H57.3622C57.2628 27.956 55.9851 29.1491 53.9517 29.1491ZM58.7182 29V18.8182H60.8361V24.2621H60.9505L63.3965 21.3636H65.8276L62.9938 24.6697L65.9718 29H63.4909L61.4078 25.9226L60.8361 26.5739V29H58.7182ZM70.1467 29V18.8182H72.2994V23.0192H76.6694V18.8182H78.8171V29H76.6694V24.794H72.2994V29H70.1467Z" fill="#393C47"/>`,
        };
      //J
      case "two-d-map10":
        return {
          mainLetter: `<path class="marker-letter" d="M53.831 58.2727H55.6548V64.358C55.6506 66.0497 54.4446 67.1193 52.6761 67.1193C51.0952 67.1193 49.8509 66.2884 49.8594 64.5455H51.696C51.7088 65.2401 52.1264 65.6406 52.7699 65.6406C53.4517 65.6406 53.8267 65.1974 53.831 64.358V58.2727Z" fill="${letterColor}"/>`,
          tooltipLetter: `<path class="tooltip-letter" d="M28.8849 29V18.8182H32.9616C35.2088 18.8182 36.3423 19.902 36.3423 21.4283C36.3423 22.6264 35.5618 23.3771 34.5028 23.6158V23.7152C35.6612 23.7699 36.7401 24.6797 36.7401 26.1861C36.7401 27.8068 35.522 29 33.2351 29H28.8849ZM31.0376 27.2401H32.7926C33.9957 27.2401 34.5178 26.7379 34.5178 25.9723C34.5178 25.1321 33.8764 24.5355 32.8423 24.5355H31.0376V27.2401ZM31.0376 23.0788H32.6335C33.5135 23.0788 34.1697 22.5916 34.1697 21.7862C34.1697 21.0504 33.6278 20.5582 32.6733 20.5582H31.0376V23.0788ZM40.2189 18.8182V29H38.101V18.8182H40.2189ZM45.3658 29.1491C43.049 29.1491 41.6072 27.5632 41.6072 25.2116C41.6072 22.8452 43.049 21.2642 45.3658 21.2642C47.6825 21.2642 49.1243 22.8452 49.1243 25.2116C49.1243 27.5632 47.6825 29.1491 45.3658 29.1491ZM45.3757 27.5085C46.4247 27.5085 46.9716 26.5291 46.9716 25.1967C46.9716 23.8643 46.4247 22.88 45.3757 22.88C44.3068 22.88 43.7599 23.8643 43.7599 25.1967C43.7599 26.5291 44.3068 27.5085 45.3757 27.5085ZM53.9517 29.1491C51.6001 29.1491 50.1932 27.5334 50.1932 25.2116C50.1932 22.87 51.625 21.2642 53.9418 21.2642C55.9354 21.2642 57.2727 22.4226 57.3622 24.1875H55.3636C55.2493 23.4268 54.7521 22.9148 53.9766 22.9148C52.9922 22.9148 52.3459 23.7401 52.3459 25.1818C52.3459 26.6435 52.9872 27.4737 53.9766 27.4737C54.7024 27.4737 55.2393 27.0163 55.3636 26.201H57.3622C57.2628 27.956 55.9851 29.1491 53.9517 29.1491ZM58.7182 29V18.8182H60.8361V24.2621H60.9505L63.3965 21.3636H65.8276L62.9938 24.6697L65.9718 29H63.4909L61.4078 25.9226L60.8361 26.5739V29H58.7182ZM74.2234 18.8182H76.3512V25.9176C76.3462 27.8913 74.9393 29.1392 72.8761 29.1392C71.0316 29.1392 69.5799 28.1697 69.5898 26.1364H71.7326C71.7475 26.9467 72.2347 27.4141 72.9854 27.4141C73.7809 27.4141 74.2184 26.897 74.2234 25.9176V18.8182Z" fill="#393C47"/>`,
        };
      //K
      case "two-d-map11":
        return {
          mainLetter: `<path class="marker-letter" d="M50.1218 67V58.2727H51.967V62.1207H52.082L55.2227 58.2727H57.4343L54.1957 62.1804L57.4727 67H55.2653L52.8746 63.4119L51.967 64.5199V67H50.1218Z" fill="${letterColor}"/>`,
          tooltipLetter: `<path class="tooltip-letter" d="M28.8849 29V18.8182H32.9616C35.2088 18.8182 36.3423 19.902 36.3423 21.4283C36.3423 22.6264 35.5618 23.3771 34.5028 23.6158V23.7152C35.6612 23.7699 36.7401 24.6797 36.7401 26.1861C36.7401 27.8068 35.522 29 33.2351 29H28.8849ZM31.0376 27.2401H32.7926C33.9957 27.2401 34.5178 26.7379 34.5178 25.9723C34.5178 25.1321 33.8764 24.5355 32.8423 24.5355H31.0376V27.2401ZM31.0376 23.0788H32.6335C33.5135 23.0788 34.1697 22.5916 34.1697 21.7862C34.1697 21.0504 33.6278 20.5582 32.6733 20.5582H31.0376V23.0788ZM40.2189 18.8182V29H38.101V18.8182H40.2189ZM45.3658 29.1491C43.049 29.1491 41.6072 27.5632 41.6072 25.2116C41.6072 22.8452 43.049 21.2642 45.3658 21.2642C47.6825 21.2642 49.1243 22.8452 49.1243 25.2116C49.1243 27.5632 47.6825 29.1491 45.3658 29.1491ZM45.3757 27.5085C46.4247 27.5085 46.9716 26.5291 46.9716 25.1967C46.9716 23.8643 46.4247 22.88 45.3757 22.88C44.3068 22.88 43.7599 23.8643 43.7599 25.1967C43.7599 26.5291 44.3068 27.5085 45.3757 27.5085ZM53.9517 29.1491C51.6001 29.1491 50.1932 27.5334 50.1932 25.2116C50.1932 22.87 51.625 21.2642 53.9418 21.2642C55.9354 21.2642 57.2727 22.4226 57.3622 24.1875H55.3636C55.2493 23.4268 54.7521 22.9148 53.9766 22.9148C52.9922 22.9148 52.3459 23.7401 52.3459 25.1818C52.3459 26.6435 52.9872 27.4737 53.9766 27.4737C54.7024 27.4737 55.2393 27.0163 55.3636 26.201H57.3622C57.2628 27.956 55.9851 29.1491 53.9517 29.1491ZM58.7182 29V18.8182H60.8361V24.2621H60.9505L63.3965 21.3636H65.8276L62.9938 24.6697L65.9718 29H63.4909L61.4078 25.9226L60.8361 26.5739V29H58.7182ZM70.1467 29V18.8182H72.2994V23.3075H72.4336L76.0977 18.8182H78.6779L74.8995 23.3771L78.7227 29H76.1474L73.3583 24.8139L72.2994 26.1065V29H70.1467Z" fill="#393C47"/>`,
        };
      //L
      case "two-d-map12":
        return {
          mainLetter: `<path class="marker-letter" d="M50.8542 67V58.2727H52.6994V65.4787H56.4409V67H50.8542Z" fill="${letterColor}"/>`,
          tooltipLetter: `<path class="tooltip-letter" d="M29.3849 29V18.8182H33.4616C35.7088 18.8182 36.8423 19.902 36.8423 21.4283C36.8423 22.6264 36.0618 23.3771 35.0028 23.6158V23.7152C36.1612 23.7699 37.2401 24.6797 37.2401 26.1861C37.2401 27.8068 36.022 29 33.7351 29H29.3849ZM31.5376 27.2401H33.2926C34.4957 27.2401 35.0178 26.7379 35.0178 25.9723C35.0178 25.1321 34.3764 24.5355 33.3423 24.5355H31.5376V27.2401ZM31.5376 23.0788H33.1335C34.0135 23.0788 34.6697 22.5916 34.6697 21.7862C34.6697 21.0504 34.1278 20.5582 33.1733 20.5582H31.5376V23.0788ZM40.7189 18.8182V29H38.601V18.8182H40.7189ZM45.8658 29.1491C43.549 29.1491 42.1072 27.5632 42.1072 25.2116C42.1072 22.8452 43.549 21.2642 45.8658 21.2642C48.1825 21.2642 49.6243 22.8452 49.6243 25.2116C49.6243 27.5632 48.1825 29.1491 45.8658 29.1491ZM45.8757 27.5085C46.9247 27.5085 47.4716 26.5291 47.4716 25.1967C47.4716 23.8643 46.9247 22.88 45.8757 22.88C44.8068 22.88 44.2599 23.8643 44.2599 25.1967C44.2599 26.5291 44.8068 27.5085 45.8757 27.5085ZM54.4517 29.1491C52.1001 29.1491 50.6932 27.5334 50.6932 25.2116C50.6932 22.87 52.125 21.2642 54.4418 21.2642C56.4354 21.2642 57.7727 22.4226 57.8622 24.1875H55.8636C55.7493 23.4268 55.2521 22.9148 54.4766 22.9148C53.4922 22.9148 52.8459 23.7401 52.8459 25.1818C52.8459 26.6435 53.4872 27.4737 54.4766 27.4737C55.2024 27.4737 55.7393 27.0163 55.8636 26.201H57.8622C57.7628 27.956 56.4851 29.1491 54.4517 29.1491ZM59.2182 29V18.8182H61.3361V24.2621H61.4505L63.8965 21.3636H66.3276L63.4938 24.6697L66.4718 29H63.9909L61.9078 25.9226L61.3361 26.5739V29H59.2182ZM70.6467 29V18.8182H72.7994V27.2251H77.1644V29H70.6467Z" fill="#393C47"/>`,
        };
      //M
      case "two-d-map13":
        return {
          mainLetter: `<g transform="translate(-2,0.5)"><path class="marker-letter" d="M51.2683 58.2727H53.5439L55.9473 64.1364H56.0495L58.4529 58.2727H60.7285V67H58.9387V61.3196H58.8663L56.6078 66.9574H55.389L53.1305 61.2983H53.0581V67H51.2683V58.2727Z" fill="${letterColor}"/></g>`,
          tooltipLetter: `<path class="tooltip-letter" d="M29.3849 29V18.8182H33.4616C35.7088 18.8182 36.8423 19.902 36.8423 21.4283C36.8423 22.6264 36.0618 23.3771 35.0028 23.6158V23.7152C36.1612 23.7699 37.2401 24.6797 37.2401 26.1861C37.2401 27.8068 36.022 29 33.7351 29H29.3849ZM31.5376 27.2401H33.2926C34.4957 27.2401 35.0178 26.7379 35.0178 25.9723C35.0178 25.1321 34.3764 24.5355 33.3423 24.5355H31.5376V27.2401ZM31.5376 23.0788H33.1335C34.0135 23.0788 34.6697 22.5916 34.6697 21.7862C34.6697 21.0504 34.1278 20.5582 33.1733 20.5582H31.5376V23.0788ZM40.7189 18.8182V29H38.601V18.8182H40.7189ZM45.8658 29.1491C43.549 29.1491 42.1072 27.5632 42.1072 25.2116C42.1072 22.8452 43.549 21.2642 45.8658 21.2642C48.1825 21.2642 49.6243 22.8452 49.6243 25.2116C49.6243 27.5632 48.1825 29.1491 45.8658 29.1491ZM45.8757 27.5085C46.9247 27.5085 47.4716 26.5291 47.4716 25.1967C47.4716 23.8643 46.9247 22.88 45.8757 22.88C44.8068 22.88 44.2599 23.8643 44.2599 25.1967C44.2599 26.5291 44.8068 27.5085 45.8757 27.5085ZM54.4517 29.1491C52.1001 29.1491 50.6932 27.5334 50.6932 25.2116C50.6932 22.87 52.125 21.2642 54.4418 21.2642C56.4354 21.2642 57.7727 22.4226 57.8622 24.1875H55.8636C55.7493 23.4268 55.2521 22.9148 54.4766 22.9148C53.4922 22.9148 52.8459 23.7401 52.8459 25.1818C52.8459 26.6435 53.4872 27.4737 54.4766 27.4737C55.2024 27.4737 55.7393 27.0163 55.8636 26.201H57.8622C57.7628 27.956 56.4851 29.1491 54.4517 29.1491ZM59.2182 29V18.8182H61.3361V24.2621H61.4505L63.8965 21.3636H66.3276L63.4938 24.6697L66.4718 29H63.9909L61.9078 25.9226L61.3361 26.5739V29H59.2182ZM70.6467 18.8182H73.3015L76.1055 25.6591H76.2248L79.0288 18.8182H81.6836V29H79.5955V22.3729H79.511L76.8761 28.9503H75.4542L72.8192 22.348H72.7347V29H70.6467V18.8182Z" fill="#393C47"/>`,
        };
      //N
      case "two-d-map14":
        return {
          mainLetter: `<path class="marker-letter" d="M58.1461 58.2727V67H56.5524L52.7555 61.5071H52.6916V67H50.8464V58.2727H52.4657L56.2328 63.7614H56.3095V58.2727H58.1461Z" fill="${letterColor}"/>`,
          tooltipLetter: `<path class="tooltip-letter" d="M29.3849 29V18.8182H33.4616C35.7088 18.8182 36.8423 19.902 36.8423 21.4283C36.8423 22.6264 36.0618 23.3771 35.0028 23.6158V23.7152C36.1612 23.7699 37.2401 24.6797 37.2401 26.1861C37.2401 27.8068 36.022 29 33.7351 29H29.3849ZM31.5376 27.2401H33.2926C34.4957 27.2401 35.0178 26.7379 35.0178 25.9723C35.0178 25.1321 34.3764 24.5355 33.3423 24.5355H31.5376V27.2401ZM31.5376 23.0788H33.1335C34.0135 23.0788 34.6697 22.5916 34.6697 21.7862C34.6697 21.0504 34.1278 20.5582 33.1733 20.5582H31.5376V23.0788ZM40.7189 18.8182V29H38.601V18.8182H40.7189ZM45.8658 29.1491C43.549 29.1491 42.1072 27.5632 42.1072 25.2116C42.1072 22.8452 43.549 21.2642 45.8658 21.2642C48.1825 21.2642 49.6243 22.8452 49.6243 25.2116C49.6243 27.5632 48.1825 29.1491 45.8658 29.1491ZM45.8757 27.5085C46.9247 27.5085 47.4716 26.5291 47.4716 25.1967C47.4716 23.8643 46.9247 22.88 45.8757 22.88C44.8068 22.88 44.2599 23.8643 44.2599 25.1967C44.2599 26.5291 44.8068 27.5085 45.8757 27.5085ZM54.4517 29.1491C52.1001 29.1491 50.6932 27.5334 50.6932 25.2116C50.6932 22.87 52.125 21.2642 54.4418 21.2642C56.4354 21.2642 57.7727 22.4226 57.8622 24.1875H55.8636C55.7493 23.4268 55.2521 22.9148 54.4766 22.9148C53.4922 22.9148 52.8459 23.7401 52.8459 25.1818C52.8459 26.6435 53.4872 27.4737 54.4766 27.4737C55.2024 27.4737 55.7393 27.0163 55.8636 26.201H57.8622C57.7628 27.956 56.4851 29.1491 54.4517 29.1491ZM59.2182 29V18.8182H61.3361V24.2621H61.4505L63.8965 21.3636H66.3276L63.4938 24.6697L66.4718 29H63.9909L61.9078 25.9226L61.3361 26.5739V29H59.2182ZM79.163 18.8182V29H77.3036L72.8739 22.5916H72.7994V29H70.6467V18.8182H72.5359L76.9308 25.2216H77.0202V18.8182H79.163Z" fill="#393C47"/>`,
        };
      //N1
      case "two-d-map15":
        return {
          mainLetter: `<g transform="translate(-4,0.5)"><path class="marker-letter" d="M58.7106 58.2727V67H57.1168L53.32 61.5071H53.256V67H51.4109V58.2727H53.0302L56.7972 63.7614H56.8739V58.2727H58.7106ZM63.9808 58.2727V67H62.1357V60.0241H62.0845L60.0859 61.277V59.6406L62.2464 58.2727H63.9808Z" fill="${letterColor}"/></g>`,
          tooltipLetter: `<path class="tooltip-letter" d="M29.3849 29V18.8182H33.4616C35.7088 18.8182 36.8423 19.902 36.8423 21.4283C36.8423 22.6264 36.0618 23.3771 35.0028 23.6158V23.7152C36.1612 23.7699 37.2401 24.6797 37.2401 26.1861C37.2401 27.8068 36.022 29 33.7351 29H29.3849ZM31.5376 27.2401H33.2926C34.4957 27.2401 35.0178 26.7379 35.0178 25.9723C35.0178 25.1321 34.3764 24.5355 33.3423 24.5355H31.5376V27.2401ZM31.5376 23.0788H33.1335C34.0135 23.0788 34.6697 22.5916 34.6697 21.7862C34.6697 21.0504 34.1278 20.5582 33.1733 20.5582H31.5376V23.0788ZM40.7189 18.8182V29H38.601V18.8182H40.7189ZM45.8658 29.1491C43.549 29.1491 42.1072 27.5632 42.1072 25.2116C42.1072 22.8452 43.549 21.2642 45.8658 21.2642C48.1825 21.2642 49.6243 22.8452 49.6243 25.2116C49.6243 27.5632 48.1825 29.1491 45.8658 29.1491ZM45.8757 27.5085C46.9247 27.5085 47.4716 26.5291 47.4716 25.1967C47.4716 23.8643 46.9247 22.88 45.8757 22.88C44.8068 22.88 44.2599 23.8643 44.2599 25.1967C44.2599 26.5291 44.8068 27.5085 45.8757 27.5085ZM54.4517 29.1491C52.1001 29.1491 50.6932 27.5334 50.6932 25.2116C50.6932 22.87 52.125 21.2642 54.4418 21.2642C56.4354 21.2642 57.7727 22.4226 57.8622 24.1875H55.8636C55.7493 23.4268 55.2521 22.9148 54.4766 22.9148C53.4922 22.9148 52.8459 23.7401 52.8459 25.1818C52.8459 26.6435 53.4872 27.4737 54.4766 27.4737C55.2024 27.4737 55.7393 27.0163 55.8636 26.201H57.8622C57.7628 27.956 56.4851 29.1491 54.4517 29.1491ZM59.2182 29V18.8182H61.3361V24.2621H61.4505L63.8965 21.3636H66.3276L63.4938 24.6697L66.4718 29H63.9909L61.9078 25.9226L61.3361 26.5739V29H59.2182ZM79.163 18.8182V29H77.3036L72.8739 22.5916H72.7994V29H70.6467V18.8182H72.5359L76.9308 25.2216H77.0202V18.8182H79.163ZM85.3116 18.8182V29H83.1589V20.8615H83.0993L80.7676 22.3232V20.4141L83.2882 18.8182H85.3116Z" fill="#393C47"/>`,
        };
      //P
      case "two-d-map16":
        return {
          mainLetter: `<path class="marker-letter" d="M50.3738 67V58.2727H53.8169C55.7985 58.2727 56.9448 59.4957 56.9448 61.2301C56.9448 62.973 55.7772 64.1705 53.7701 64.1705H52.2189V67H50.3738ZM52.2189 62.6918H53.4718C54.5286 62.6918 55.0442 62.0952 55.0442 61.2301C55.0442 60.3608 54.5286 59.7812 53.4632 59.7812H52.2189V62.6918Z" fill="${letterColor}"/>`,
          tooltipLetter: `<path class="tooltip-letter" d="M28.8849 29V18.8182H32.9616C35.2088 18.8182 36.3423 19.902 36.3423 21.4283C36.3423 22.6264 35.5618 23.3771 34.5028 23.6158V23.7152C35.6612 23.7699 36.7401 24.6797 36.7401 26.1861C36.7401 27.8068 35.522 29 33.2351 29H28.8849ZM31.0376 27.2401H32.7926C33.9957 27.2401 34.5178 26.7379 34.5178 25.9723C34.5178 25.1321 33.8764 24.5355 32.8423 24.5355H31.0376V27.2401ZM31.0376 23.0788H32.6335C33.5135 23.0788 34.1697 22.5916 34.1697 21.7862C34.1697 21.0504 33.6278 20.5582 32.6733 20.5582H31.0376V23.0788ZM40.2189 18.8182V29H38.101V18.8182H40.2189ZM45.3658 29.1491C43.049 29.1491 41.6072 27.5632 41.6072 25.2116C41.6072 22.8452 43.049 21.2642 45.3658 21.2642C47.6825 21.2642 49.1243 22.8452 49.1243 25.2116C49.1243 27.5632 47.6825 29.1491 45.3658 29.1491ZM45.3757 27.5085C46.4247 27.5085 46.9716 26.5291 46.9716 25.1967C46.9716 23.8643 46.4247 22.88 45.3757 22.88C44.3068 22.88 43.7599 23.8643 43.7599 25.1967C43.7599 26.5291 44.3068 27.5085 45.3757 27.5085ZM53.9517 29.1491C51.6001 29.1491 50.1932 27.5334 50.1932 25.2116C50.1932 22.87 51.625 21.2642 53.9418 21.2642C55.9354 21.2642 57.2727 22.4226 57.3622 24.1875H55.3636C55.2493 23.4268 54.7521 22.9148 53.9766 22.9148C52.9922 22.9148 52.3459 23.7401 52.3459 25.1818C52.3459 26.6435 52.9872 27.4737 53.9766 27.4737C54.7024 27.4737 55.2393 27.0163 55.3636 26.201H57.3622C57.2628 27.956 55.9851 29.1491 53.9517 29.1491ZM58.7182 29V18.8182H60.8361V24.2621H60.9505L63.3965 21.3636H65.8276L62.9938 24.6697L65.9718 29H63.4909L61.4078 25.9226L60.8361 26.5739V29H58.7182ZM70.1467 29V18.8182H74.1637C76.4755 18.8182 77.8129 20.245 77.8129 22.2685C77.8129 24.3018 76.4506 25.6989 74.109 25.6989H72.2994V29H70.1467ZM72.2994 23.9737H73.761C74.994 23.9737 75.5955 23.2777 75.5955 22.2685C75.5955 21.2543 74.994 20.5781 73.7511 20.5781H72.2994V23.9737Z" fill="#393C47"/>`,
        };
      //P1
      case "two-d-map17":
        return {
          mainLetter: `<g transform="translate(-4,0.5)"><path class="marker-letter" d="M51.4382 67V58.2727H54.8814C56.8629 58.2727 58.0092 59.4957 58.0092 61.2301C58.0092 62.973 56.8416 64.1705 54.8345 64.1705H53.2834V67H51.4382ZM53.2834 62.6918H54.5362C55.593 62.6918 56.1087 62.0952 56.1087 61.2301C56.1087 60.3608 55.593 59.7812 54.5277 59.7812H53.2834V62.6918ZM62.9535 58.2727V67H61.1083V60.0241H61.0572L59.0586 61.277V59.6406L61.2191 58.2727H62.9535Z" fill="${letterColor}"/></g>`,
          tooltipLetter: `<path class="tooltip-letter" d="M29.3849 29V18.8182H33.4616C35.7088 18.8182 36.8423 19.902 36.8423 21.4283C36.8423 22.6264 36.0618 23.3771 35.0028 23.6158V23.7152C36.1612 23.7699 37.2401 24.6797 37.2401 26.1861C37.2401 27.8068 36.022 29 33.7351 29H29.3849ZM31.5376 27.2401H33.2926C34.4957 27.2401 35.0178 26.7379 35.0178 25.9723C35.0178 25.1321 34.3764 24.5355 33.3423 24.5355H31.5376V27.2401ZM31.5376 23.0788H33.1335C34.0135 23.0788 34.6697 22.5916 34.6697 21.7862C34.6697 21.0504 34.1278 20.5582 33.1733 20.5582H31.5376V23.0788ZM40.7189 18.8182V29H38.601V18.8182H40.7189ZM45.8658 29.1491C43.549 29.1491 42.1072 27.5632 42.1072 25.2116C42.1072 22.8452 43.549 21.2642 45.8658 21.2642C48.1825 21.2642 49.6243 22.8452 49.6243 25.2116C49.6243 27.5632 48.1825 29.1491 45.8658 29.1491ZM45.8757 27.5085C46.9247 27.5085 47.4716 26.5291 47.4716 25.1967C47.4716 23.8643 46.9247 22.88 45.8757 22.88C44.8068 22.88 44.2599 23.8643 44.2599 25.1967C44.2599 26.5291 44.8068 27.5085 45.8757 27.5085ZM54.4517 29.1491C52.1001 29.1491 50.6932 27.5334 50.6932 25.2116C50.6932 22.87 52.125 21.2642 54.4418 21.2642C56.4354 21.2642 57.7727 22.4226 57.8622 24.1875H55.8636C55.7493 23.4268 55.2521 22.9148 54.4766 22.9148C53.4922 22.9148 52.8459 23.7401 52.8459 25.1818C52.8459 26.6435 53.4872 27.4737 54.4766 27.4737C55.2024 27.4737 55.7393 27.0163 55.8636 26.201H57.8622C57.7628 27.956 56.4851 29.1491 54.4517 29.1491ZM59.2182 29V18.8182H61.3361V24.2621H61.4505L63.8965 21.3636H66.3276L63.4938 24.6697L66.4718 29H63.9909L61.9078 25.9226L61.3361 26.5739V29H59.2182ZM70.6467 29V18.8182H74.6637C76.9755 18.8182 78.3129 20.245 78.3129 22.2685C78.3129 24.3018 76.9506 25.6989 74.609 25.6989H72.7994V29H70.6467ZM72.7994 23.9737H74.261C75.494 23.9737 76.0955 23.2777 76.0955 22.2685C76.0955 21.2543 75.494 20.5781 74.2511 20.5781H72.7994V23.9737ZM84.0811 18.8182V29H81.9284V20.8615H81.8688L79.5371 22.3232V20.4141L82.0577 18.8182H84.0811Z" fill="#393C47"/>`,
        };
      case "two-d-map18":
        return {
          mainLetter: `<g transform="translate(-2,0.5)"><path class="marker-letter" d="M59.0851 62.6364C59.0851 64.1918 58.5566 65.3849 57.7044 66.1477L58.9529 67.7159H57.2314L56.5282 66.8509C56.0595 67.0298 55.5439 67.1193 54.9984 67.1193C52.6717 67.1193 50.9118 65.4787 50.9118 62.6364C50.9118 59.7812 52.6717 58.1534 54.9984 58.1534C57.3123 58.1534 59.0851 59.7812 59.0851 62.6364ZM54.3592 63.9659H55.9274L56.5751 64.7969C56.9799 64.3153 57.2143 63.5866 57.2143 62.6364C57.2143 60.7869 56.3365 59.7855 54.9984 59.7855C53.6561 59.7855 52.7825 60.7869 52.7825 62.6364C52.7825 64.4858 53.6561 65.4872 54.9984 65.4872C55.1646 65.4872 55.3265 65.4702 55.4757 65.4403L54.3592 63.9659Z" fill="${letterColor}"/></g>`,
          tooltipLetter: `<path class="tooltip-letter" d="M29.3849 29V18.8182H33.4616C35.7088 18.8182 36.8423 19.902 36.8423 21.4283C36.8423 22.6264 36.0618 23.3771 35.0028 23.6158V23.7152C36.1612 23.7699 37.2401 24.6797 37.2401 26.1861C37.2401 27.8068 36.022 29 33.7351 29H29.3849ZM31.5376 27.2401H33.2926C34.4957 27.2401 35.0178 26.7379 35.0178 25.9723C35.0178 25.1321 34.3764 24.5355 33.3423 24.5355H31.5376V27.2401ZM31.5376 23.0788H33.1335C34.0135 23.0788 34.6697 22.5916 34.6697 21.7862C34.6697 21.0504 34.1278 20.5582 33.1733 20.5582H31.5376V23.0788ZM40.7189 18.8182V29H38.601V18.8182H40.7189ZM45.8658 29.1491C43.549 29.1491 42.1072 27.5632 42.1072 25.2116C42.1072 22.8452 43.549 21.2642 45.8658 21.2642C48.1825 21.2642 49.6243 22.8452 49.6243 25.2116C49.6243 27.5632 48.1825 29.1491 45.8658 29.1491ZM45.8757 27.5085C46.9247 27.5085 47.4716 26.5291 47.4716 25.1967C47.4716 23.8643 46.9247 22.88 45.8757 22.88C44.8068 22.88 44.2599 23.8643 44.2599 25.1967C44.2599 26.5291 44.8068 27.5085 45.8757 27.5085ZM54.4517 29.1491C52.1001 29.1491 50.6932 27.5334 50.6932 25.2116C50.6932 22.87 52.125 21.2642 54.4418 21.2642C56.4354 21.2642 57.7727 22.4226 57.8622 24.1875H55.8636C55.7493 23.4268 55.2521 22.9148 54.4766 22.9148C53.4922 22.9148 52.8459 23.7401 52.8459 25.1818C52.8459 26.6435 53.4872 27.4737 54.4766 27.4737C55.2024 27.4737 55.7393 27.0163 55.8636 26.201H57.8622C57.7628 27.956 56.4851 29.1491 54.4517 29.1491ZM59.2182 29V18.8182H61.3361V24.2621H61.4505L63.8965 21.3636H66.3276L63.4938 24.6697L66.4718 29H63.9909L61.9078 25.9226L61.3361 26.5739V29H59.2182ZM80.0032 23.9091C80.0032 25.7237 79.3867 27.1158 78.3924 28.0057L79.8491 29.8352H77.8406L77.0202 28.826C76.4734 29.0348 75.8718 29.1392 75.2354 29.1392C72.521 29.1392 70.4677 27.2251 70.4677 23.9091C70.4677 20.5781 72.521 18.679 75.2354 18.679C77.935 18.679 80.0032 20.5781 80.0032 23.9091ZM74.4897 25.4602H76.3192L77.0749 26.4297C77.5472 25.8679 77.8207 25.0178 77.8207 23.9091C77.8207 21.7514 76.7965 20.5831 75.2354 20.5831C73.6694 20.5831 72.6502 21.7514 72.6502 23.9091C72.6502 26.0668 73.6694 27.2351 75.2354 27.2351C75.4293 27.2351 75.6183 27.2152 75.7923 27.1804L74.4897 25.4602Z" fill="#393C47"/>`,
        };
      case "two-d-map19":
        return {
          mainLetter: `<path class="marker-letter" d="M50.321 67V58.2727H53.7642C55.7457 58.2727 56.892 59.3892 56.892 61.1236C56.892 62.3168 56.3423 63.1818 55.3494 63.608L57.2031 67H55.1662L53.5128 63.9062H52.1662V67H50.321ZM52.1662 62.4233H53.419C54.4759 62.4233 54.9915 61.9886 54.9915 61.1236C54.9915 60.2543 54.4759 59.7812 53.4105 59.7812H52.1662V62.4233Z" fill="${letterColor}"/>`,
          tooltipLetter: `<path class="tooltip-letter" d="M28.8849 29V18.8182H32.9616C35.2088 18.8182 36.3423 19.902 36.3423 21.4283C36.3423 22.6264 35.5618 23.3771 34.5028 23.6158V23.7152C35.6612 23.7699 36.7401 24.6797 36.7401 26.1861C36.7401 27.8068 35.522 29 33.2351 29H28.8849ZM31.0376 27.2401H32.7926C33.9957 27.2401 34.5178 26.7379 34.5178 25.9723C34.5178 25.1321 33.8764 24.5355 32.8423 24.5355H31.0376V27.2401ZM31.0376 23.0788H32.6335C33.5135 23.0788 34.1697 22.5916 34.1697 21.7862C34.1697 21.0504 33.6278 20.5582 32.6733 20.5582H31.0376V23.0788ZM40.2189 18.8182V29H38.101V18.8182H40.2189ZM45.3658 29.1491C43.049 29.1491 41.6072 27.5632 41.6072 25.2116C41.6072 22.8452 43.049 21.2642 45.3658 21.2642C47.6825 21.2642 49.1243 22.8452 49.1243 25.2116C49.1243 27.5632 47.6825 29.1491 45.3658 29.1491ZM45.3757 27.5085C46.4247 27.5085 46.9716 26.5291 46.9716 25.1967C46.9716 23.8643 46.4247 22.88 45.3757 22.88C44.3068 22.88 43.7599 23.8643 43.7599 25.1967C43.7599 26.5291 44.3068 27.5085 45.3757 27.5085ZM53.9517 29.1491C51.6001 29.1491 50.1932 27.5334 50.1932 25.2116C50.1932 22.87 51.625 21.2642 53.9418 21.2642C55.9354 21.2642 57.2727 22.4226 57.3622 24.1875H55.3636C55.2493 23.4268 54.7521 22.9148 53.9766 22.9148C52.9922 22.9148 52.3459 23.7401 52.3459 25.1818C52.3459 26.6435 52.9872 27.4737 53.9766 27.4737C54.7024 27.4737 55.2393 27.0163 55.3636 26.201H57.3622C57.2628 27.956 55.9851 29.1491 53.9517 29.1491ZM58.7182 29V18.8182H60.8361V24.2621H60.9505L63.3965 21.3636H65.8276L62.9938 24.6697L65.9718 29H63.4909L61.4078 25.9226L60.8361 26.5739V29H58.7182ZM70.1467 29V18.8182H74.1637C76.4755 18.8182 77.8129 20.1207 77.8129 22.1442C77.8129 23.5362 77.1715 24.5455 76.0131 25.0426L78.1758 29H75.7994L73.8704 25.3906H72.2994V29H70.1467ZM72.2994 23.6605H73.761C74.994 23.6605 75.5955 23.1534 75.5955 22.1442C75.5955 21.13 74.994 20.5781 73.7511 20.5781H72.2994V23.6605Z" fill="#393C47"/>`,
        };
      case "two-d-map20":
        return {
          mainLetter: `<path class="marker-letter" d="M55.0613 60.7827C54.9931 60.0966 54.4519 59.696 53.5698 59.696C52.6664 59.696 52.1678 60.1094 52.1678 60.6719C52.155 61.2983 52.79 61.5795 53.5485 61.7543L54.3326 61.9418C55.8496 62.2827 56.9448 63.054 56.949 64.5071C56.9448 66.1051 55.6919 67.1236 53.5613 67.1236C51.4434 67.1236 50.0925 66.1477 50.0456 64.2599H51.8311C51.8908 65.1335 52.5811 65.5767 53.54 65.5767C54.4775 65.5767 55.0826 65.142 55.0868 64.5028C55.0826 63.9148 54.5542 63.642 53.6039 63.4119L52.6536 63.1733C51.1792 62.8196 50.2715 62.0824 50.2757 60.7955C50.2672 59.2102 51.6692 58.1534 53.5826 58.1534C55.5257 58.1534 56.8042 59.2273 56.8297 60.7827H55.0613Z" fill="${letterColor}"/>`,
          tooltipLetter: `<path class="tooltip-letter" d="M28.8849 29V18.8182H32.9616C35.2088 18.8182 36.3423 19.902 36.3423 21.4283C36.3423 22.6264 35.5618 23.3771 34.5028 23.6158V23.7152C35.6612 23.7699 36.7401 24.6797 36.7401 26.1861C36.7401 27.8068 35.522 29 33.2351 29H28.8849ZM31.0376 27.2401H32.7926C33.9957 27.2401 34.5178 26.7379 34.5178 25.9723C34.5178 25.1321 33.8764 24.5355 32.8423 24.5355H31.0376V27.2401ZM31.0376 23.0788H32.6335C33.5135 23.0788 34.1697 22.5916 34.1697 21.7862C34.1697 21.0504 33.6278 20.5582 32.6733 20.5582H31.0376V23.0788ZM40.2189 18.8182V29H38.101V18.8182H40.2189ZM45.3658 29.1491C43.049 29.1491 41.6072 27.5632 41.6072 25.2116C41.6072 22.8452 43.049 21.2642 45.3658 21.2642C47.6825 21.2642 49.1243 22.8452 49.1243 25.2116C49.1243 27.5632 47.6825 29.1491 45.3658 29.1491ZM45.3757 27.5085C46.4247 27.5085 46.9716 26.5291 46.9716 25.1967C46.9716 23.8643 46.4247 22.88 45.3757 22.88C44.3068 22.88 43.7599 23.8643 43.7599 25.1967C43.7599 26.5291 44.3068 27.5085 45.3757 27.5085ZM53.9517 29.1491C51.6001 29.1491 50.1932 27.5334 50.1932 25.2116C50.1932 22.87 51.625 21.2642 53.9418 21.2642C55.9354 21.2642 57.2727 22.4226 57.3622 24.1875H55.3636C55.2493 23.4268 54.7521 22.9148 53.9766 22.9148C52.9922 22.9148 52.3459 23.7401 52.3459 25.1818C52.3459 26.6435 52.9872 27.4737 53.9766 27.4737C54.7024 27.4737 55.2393 27.0163 55.3636 26.201H57.3622C57.2628 27.956 55.9851 29.1491 53.9517 29.1491ZM58.7182 29V18.8182H60.8361V24.2621H60.9505L63.3965 21.3636H65.8276L62.9938 24.6697L65.9718 29H63.4909L61.4078 25.9226L60.8361 26.5739V29H58.7182ZM75.6701 21.7464C75.5906 20.946 74.9592 20.4787 73.93 20.4787C72.8761 20.4787 72.2944 20.9609 72.2944 21.6172C72.2795 22.348 73.0202 22.6761 73.9052 22.88L74.82 23.0987C76.5898 23.4964 77.8675 24.3963 77.8725 26.0916C77.8675 27.956 76.4059 29.1442 73.9201 29.1442C71.4492 29.1442 69.8732 28.0057 69.8185 25.8033H71.9016C71.9712 26.8224 72.7766 27.3395 73.8952 27.3395C74.989 27.3395 75.695 26.8324 75.6999 26.0866C75.695 25.4006 75.0785 25.0824 73.9698 24.8139L72.8612 24.5355C71.141 24.1229 70.082 23.2628 70.087 21.7614C70.0771 19.9119 71.7127 18.679 73.945 18.679C76.212 18.679 77.7035 19.9318 77.7333 21.7464H75.6701Z" fill="#393C47"/>`,
        };
      case "two-d-map21":
        return {
          mainLetter: `<path class="marker-letter" d="M49.9183 59.794V58.2727H57.0859V59.794H54.4141V67H52.5902V59.794H49.9183Z" fill="${letterColor}"/>`,
          tooltipLetter: `<path class="tooltip-letter" d="M28.8849 29V18.8182H32.9616C35.2088 18.8182 36.3423 19.902 36.3423 21.4283C36.3423 22.6264 35.5618 23.3771 34.5028 23.6158V23.7152C35.6612 23.7699 36.7401 24.6797 36.7401 26.1861C36.7401 27.8068 35.522 29 33.2351 29H28.8849ZM31.0376 27.2401H32.7926C33.9957 27.2401 34.5178 26.7379 34.5178 25.9723C34.5178 25.1321 33.8764 24.5355 32.8423 24.5355H31.0376V27.2401ZM31.0376 23.0788H32.6335C33.5135 23.0788 34.1697 22.5916 34.1697 21.7862C34.1697 21.0504 33.6278 20.5582 32.6733 20.5582H31.0376V23.0788ZM40.2189 18.8182V29H38.101V18.8182H40.2189ZM45.3658 29.1491C43.049 29.1491 41.6072 27.5632 41.6072 25.2116C41.6072 22.8452 43.049 21.2642 45.3658 21.2642C47.6825 21.2642 49.1243 22.8452 49.1243 25.2116C49.1243 27.5632 47.6825 29.1491 45.3658 29.1491ZM45.3757 27.5085C46.4247 27.5085 46.9716 26.5291 46.9716 25.1967C46.9716 23.8643 46.4247 22.88 45.3757 22.88C44.3068 22.88 43.7599 23.8643 43.7599 25.1967C43.7599 26.5291 44.3068 27.5085 45.3757 27.5085ZM53.9517 29.1491C51.6001 29.1491 50.1932 27.5334 50.1932 25.2116C50.1932 22.87 51.625 21.2642 53.9418 21.2642C55.9354 21.2642 57.2727 22.4226 57.3622 24.1875H55.3636C55.2493 23.4268 54.7521 22.9148 53.9766 22.9148C52.9922 22.9148 52.3459 23.7401 52.3459 25.1818C52.3459 26.6435 52.9872 27.4737 53.9766 27.4737C54.7024 27.4737 55.2393 27.0163 55.3636 26.201H57.3622C57.2628 27.956 55.9851 29.1491 53.9517 29.1491ZM58.7182 29V18.8182H60.8361V24.2621H60.9505L63.3965 21.3636H65.8276L62.9938 24.6697L65.9718 29H63.4909L61.4078 25.9226L60.8361 26.5739V29H58.7182ZM69.7589 20.593V18.8182H78.1211V20.593H75.0039V29H72.8761V20.593H69.7589Z" fill="#393C47"/>`,
        };
      default:
        return `<path d="M28.7745 27H26.7972L29.81 18.2727H32.1879L35.1964 27H33.2191L32.5714 25.0099H29.4222L28.7745 27ZM29.891 23.5696H32.1069L31.033 20.267H30.9648L29.891 23.5696Z" fill="${letterColor}"/>`;
    }
  }

  //template for svg marker with the lettering inserted
  const markerTemplate = (marker) => `\
        <svg id="${
          marker.id
        }" class="map-marker"  width="115" height="107" viewBox="0 0 115 107" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g filter="url(#filter0_d_12424_19793)">
                <path class="marker-border-1" fill-rule="evenodd" clip-rule="evenodd" d="M57.9181 77.7267C64.3023 75.9896 69 70.1099 69 63.124C69 54.7712 62.2843 48 54 48C45.7157 48 39 54.7712 39 63.124C39 70.1082 43.6954 75.9866 50.077 77.7254L53.1806 82.1292C53.579 82.6945 54.4171 82.6945 54.8154 82.1292L57.9181 77.7267Z" fill="${
                  marker.borderColor
                }"/>
            </g>
            <rect class="marker-background" x="42" y="51" width="24" height="24" rx="12" fill="${
              marker.backgroundColor
            }"/>

                ${getMarkerLetterPath(marker.id, marker.letterColor).mainLetter}

        
            <g class="tooltip-box" filter="url(#filter1_d_12424_19793)">
                <rect x="16" y="8" width="76" height="32" rx="4" fill="white" shape-rendering="crispEdges"/>
                ${
                  getMarkerLetterPath(marker.id, marker.letterColor)
                    .tooltipLetter
                }
            </g>
            <defs>
                <filter id="filter0_d_12424_19793" x="23" y="40" width="62" height="66.5547" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                    <feOffset dy="8"/>
                    <feGaussianBlur stdDeviation="8"/>
                    <feComposite in2="hardAlpha" operator="out"/>
                    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"/>
                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_12424_19793"/>
                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_12424_19793" result="shape"/>
                </filter>
                <filter id="filter1_d_12424_19793" x="0" y="0" width="108" height="64" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                    <feOffset dy="8"/>
                    <feGaussianBlur stdDeviation="8"/>
                    <feComposite in2="hardAlpha" operator="out"/>
                    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"/>
                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_12424_19793"/>
                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_12424_19793" result="shape"/>
                </filter>
            </defs>
        </svg>`;

  //positioning of markers on map
  const markers = [
    {
      id: "two-d-map1",
      x: 635,
      y: 290,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block A",
    },
    {
      id: "two-d-map2",
      x: 510,
      y: 380,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block B",
    },
    {
      id: "two-d-map3",
      x: 447,
      y: 380,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block C",
    },
    {
      id: "two-d-map4",
      x: 389,
      y: 380,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block D",
    },
    {
      id: "two-d-map5",
      x: 315,
      y: 380,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block D1",
    },
    {
      id: "two-d-map6",
      x: 315,
      y: 280,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block E",
    },
    {
      id: "two-d-map7",
      x: 220,
      y: 280,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block F",
    },
    {
      id: "two-d-map8",
      x: 122,
      y: 280,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block G",
    },
    {
      id: "two-d-map9",
      x: 385,
      y: 180,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block H",
    },
    {
      id: "two-d-map10",
      x: 447,
      y: 180,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block J",
    },
    {
      id: "two-d-map11",
      x: 506,
      y: 180,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block K",
    },
    {
      id: "two-d-map12",
      x: 790,
      y: 195,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block L",
    },
    {
      id: "two-d-map13",
      x: 883,
      y: 195,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block M",
    },
    {
      id: "two-d-map14",
      x: 960,
      y: 180,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block N",
    },
    {
      id: "two-d-map15",
      x: 1022,
      y: 180,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block N1",
    },
    {
      id: "two-d-map16",
      x: 944,
      y: 270,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block P",
    },
    {
      id: "two-d-map17",
      x: 1066,
      y: 270,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block P1",
    },
    {
      id: "two-d-map18",
      x: 960,
      y: 380,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block Q",
    },
    {
      id: "two-d-map19",
      x: 884,
      y: 360,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block R",
    },
    {
      id: "two-d-map20",
      x: 793,
      y: 360,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block S",
    },
    {
      id: "two-d-map21",
      x: 594,
      y: 540,
      borderColor: "#CD1017",
      backgroundColor: "white",
      letterColor: "#CD1017",
      label: "Block T",
    },
  ];
  markers.forEach((marker) => {
    const svgMarkup = markerTemplate(marker);
    const svgPath = getMarkerLetterPath(marker.id, marker.letterColor);
    // Append svgMarkup to your map or container
  });

  const markerGroup = g
    .selectAll(".map-marker")
    .data(markers)
    .enter()
    .append("g")
    .attr("transform", (d) => `translate(${d.x},${d.y})`)
    .html(markerTemplate);

  markers.forEach((marker) => {
    const svgMarkup = markerTemplate(marker);
    // Append svgMarkup to your map or container

    // Now, for the new part, attach the click event to show the modal:
    d3.select(`#${marker.id}`).on("click", function () {
      document.querySelectorAll("[id^='modal-']").forEach(modal => {
        modal.style.display = 'none';
      });

      // Show the modal
      const modal = document.getElementById(`modal-${marker.id}`);
      modal.style.display = "block";

      // Get the <span> element that closes the modal
      const span = modal.getElementsByClassName("close")[0];

      /*function removeActiveClassFromAll() {
        const activeElements = document.querySelectorAll(".map-marker.active");
        activeElements.forEach(function (el) {
          el.classList.remove("active");
        });
      }*/

      function removeActiveClassFromAll() {
        const activeElements = document.querySelectorAll(".map-marker.active");
        activeElements.forEach(function (el) {
          el.classList.remove("active");
      
          // Hide the corresponding modal
          const modal = document.getElementById(`modal-${el.id}`);
          if (modal) {
            modal.style.display = "none";
          }
        });
      }
      

      // Close the modal when <span> (x) is clicked
      span.onclick = function () {
        modal.style.display = "none";
        removeActiveClassFromAll(); // Remove active class from all .map-marker elements
      };

      // Close the modal if clicked anywhere outside of it
      window.onclick = function (event) {
        if (event.target === modal) {
          modal.style.display = "none";
          removeActiveClassFromAll(); // Remove active class from all .map-marker elements
        }
      };
    });
  });
});

document.addEventListener("DOMContentLoaded", function () {
  var drag = d3.drag()
  .on("start", dragstarted)
  .on("drag", dragged)
  .on("end", dragended);

  d3.select("#two-map-container").call(drag);

function dragstarted(event, d) {
  // actions on drag start
}

function dragged(event, d) {
  // actions during dragging
  d3.select(this)
    .attr("x", event.x) // or cx for circles
    .attr("y", event.y); // or cy for circles
}

function dragended(event, d) {
  // actions on drag end
}
  // Function to remove active class from all SVGs
  function removeActiveClassFromAll() {
    const activeElements = document.querySelectorAll(".map-marker.active");
    activeElements.forEach(function (el) {
      el.classList.remove("active");
    });
  }

  function closeAllModals() {
    const modals = document.querySelectorAll('[id^="modal-"]');
    modals.forEach((modal) => (modal.style.display = "none"));
  }

  function handleMarkerClick() {
    removeActiveClassFromAll(); // Remove active class from all
    this.classList.add("active"); // Add active class to the clicked SVG

    closeAllModals(); // Close all modals

    // Open the modal corresponding to the clicked SVG
    const modal = document.getElementById(`modal-${this.id}`);
    if (modal) {
      modal.style.display = "block";
    }
  }

  // Event listener for all SVGs with class .map-marker
  document.querySelectorAll(".map-marker").forEach(function (marker) {
    marker.addEventListener("click", handleMarkerClick);
    marker.addEventListener("touchend", function (e) {
      e.preventDefault();
      handleMarkerClick.call(this);
    });
  });
  document.querySelectorAll(".close").forEach((closeButton) => {
    closeButton.addEventListener("click", function () {
      const modal = this.closest('[id^="modal-"]');
      modal.style.display = "none";

      // Get the corresponding .map-marker element using the modal's ID
      const markerId = modal.id.replace("modal-", "");
      const markerElement = document.getElementById(markerId);
      if (markerElement) {
        markerElement.classList.remove("active");
      }
    });
  });
});

function centerSVG() {
  const viewportWidth = window.innerWidth;

  const mapSVG = document.getElementById("Layer_1");

  if (mapSVG) {
    const svgWidth = mapSVG.getBoundingClientRect().width;
    const translateAmount = (svgWidth - viewportWidth) / 2;

    mapSVG.style.transform = `translate(-${translateAmount}px, 0)`;
  }
}

// When the DOM is fully loaded
document.addEventListener("DOMContentLoaded", centerSVG);

// When the window resizes
window.addEventListener("resize", centerSVG);
