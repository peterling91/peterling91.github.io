:root {
  --green-100: #e3f0e7;
  --green-500: #3cffc3;
  --green-600: #1ab283;
  --startColor: hsl(0, 100%, 75%);
  --stopColor: hsl(0, 100%, 75%);
}

/*========================================
    Buttons
  ========================================*/
.button-container {
  @apply flex
  flex-wrap
  items-center
  gap-x-2
  gap-y-6
  !mt-8;
}

.button-container *[class*="button-text"] {
  @apply mx-6
  my-2;
}

/*========================================
    Cursor
  ========================================*/
#cursor {
  @apply pointer-events-none
    /* mix-blend-screen */
    mt-6
    ml-4
    fixed
    block
    rounded-none
    origin-center
    top-0
    left-0
    z-[2000];
}

#cursor span {
  @apply absolute
    block
    w-5
    h-5
    rounded-full
    bg-[var(--green-500)]
    origin-center;
}

.carousel-card-cropped.show-disabled-arrows .carousel-arrow-back[disabled],
.carousel-card-cropped.show-disabled-arrows .carousel-arrow-next[disabled] {
  @apply opacity-50;
}

/*========================================
    Hero banner
  ========================================*/
.page-banner.v4.sustainability {
  @apply bg-neutral-800;
}

.page-banner.v4.sustainability::before,
.page-banner.v4.sustainability::after {
  @apply hidden;
}

.page-banner.v4.sustainability .page-banner-wrapper-content {
  @apply lg:max-w-none
    lg:flex-row
    lg:items-stretch
    lg:justify-between
    lg:py-0;
}

.page-banner.v4.sustainability .page-banner-title,
.page-banner.v4.sustainability .page-banner-description {
  @apply lg:text-left;
}

.page-banner.v4.sustainability .page-banner-description {
  @apply max-w-none;
}

.page-banner.v4.sustainability .page-banner-scroll-down {
  @apply w-full
    max-w-container-full-sm
    mx-auto
    lg:items-start
    lg:pl-[7.25rem];
}

.page-banner.v4.sustainability .page-banner-image {
  @apply relative
    inline-flex
    items-end
    grow
    w-full
    h-full
    max-w-[30rem]
    overflow-visible
    opacity-80
    max-lg:top-auto
    max-lg:bottom-0
    lg:items-center
    lg:justify-end
    /* lg:min-w-[37rem] */
    lg:max-w-[46.5rem]
    lg:-mr-[3.75rem]
    lg:mt-[5.5rem]
    lg:-mb-[5.5rem]
    xl:-mr-[8rem];
}

.page-banner.v4.sustainability .page-banner-image img,
.page-banner.v4.sustainability .page-banner-image picture {
  @apply w-full;
}

.page-banner.v4.sustainability .breadcrumb a {
  @apply underline;
}

.page-banner-wrapper-content-text {
  @apply flex
    flex-col
    items-center
    justify-center
    grow
    shrink-0
    max-w-container-sm
    lg:max-w-[30rem]
    lg:pr-8
    lg:items-start
    lg:py-10
    xl:max-w-container-md;
}

.page-banner-wrapper-content-text-titles {
  @apply flex
    flex-col
    justify-center
    grow;
}

.page-banner-pattern {
  @apply hidden
    absolute
    -top-[4.25rem]
    left-[10%]
    w-[80%]
    max-w-[51.3125rem]
    aspect-[2.84_/_1]
    lg:block;
}

/*========================================
    Home - Hero banner with mask
  ========================================*/
.page-banner-mask {
  @apply absolute
    block
    w-full
    h-full
    bg-primary-600
    z-40;

  --page-banner-mask-percent: 100%;

  -webkit-mask-image: radial-gradient(
    circle,
    rgba(0, 0, 0, 0.01) var(--page-banner-mask-percent),
    rgba(0, 0, 0, 1) var(--page-banner-mask-percent)
  );
  mask-image: radial-gradient(
    circle,
    rgba(0, 0, 0, 0.01) var(--page-banner-mask-percent),
    rgba(0, 0, 0, 1) var(--page-banner-mask-percent)
  );
}

/*========================================
    Home - Images with transition
  ========================================*/
.image-with-mask {
  @apply flex
  items-center
  justify-center
  relative
  opacity-80
  overflow-visible;
}

.image-with-mask .image-with-mask__image--active {
  @apply relative
  z-10;

  --image-with-mask-percent: 0%;

  -webkit-mask-image: radial-gradient(
    circle at 50% 0,
    black var(--image-with-mask-percent),
    rgba(0, 0, 0, 0.01) var(--image-with-mask-percent)
  );
  mask-image: radial-gradient(
    circle at 50% 0,
    black var(--image-with-mask-percent),
    rgba(0, 0, 0, 0.01) var(--image-with-mask-percent)
  );
}

.image-with-mask .image-with-mask__image--inactive {
  @apply absolute;
}

.sustainability-home-intro-section + .sustainability-home-intro-section {
  @apply /* -mt-[5.25rem] */
  lg:-mt-[14rem];
}

.image-with-mask .green-splash {
  @apply absolute
  w-[30rem]
  -top-[8rem]
  h-auto
  z-10
  translate-x-1
  lg:w-[40rem]
  lg:-top-[10rem];
}

.green-splash > img {
  @apply w-full
  h-auto;
}

.image-with-mask--left .green-splash,
.image-with-mask--right .green-splash {
  @apply -top-[25%]
  w-[30rem]
  xs:w-[40rem]
  md:-top-[50%];
}

.image-with-mask--left .green-splash {
  @apply -right-[40%];
}

.image-with-mask--right .green-splash {
  @apply -left-[40%];
}

.image-with-mask.image-with-mask--left .image-with-mask__image--active {
  -webkit-mask-image: radial-gradient(
    circle at 100% 0,
    black var(--image-with-mask-percent),
    rgba(0, 0, 0, 0.01) var(--image-with-mask-percent)
  );
  mask-image: radial-gradient(
    circle at 100% 0,
    black var(--image-with-mask-percent),
    rgba(0, 0, 0, 0.01) var(--image-with-mask-percent)
  );
}

.image-with-mask.image-with-mask--right .image-with-mask__image--active {
  -webkit-mask-image: radial-gradient(
    circle at 0 0,
    black var(--image-with-mask-percent),
    rgba(0, 0, 0, 0.01) var(--image-with-mask-percent)
  );
  mask-image: radial-gradient(
    circle at 0 0,
    black var(--image-with-mask-percent),
    rgba(0, 0, 0, 0.01) var(--image-with-mask-percent)
  );
}

/*========================================
    Home - Report banner
  ========================================*/
.circle-deco {
  @apply relative
  flex
  flex-col
  items-center 
  justify-center
  gap-2
  w-[calc(100%_-_2rem)]
  h-[14.87rem]
  mx-4
  mt-14
  sm:h-[24.5rem]
  md:gap-8
}


.circle-deco__circle--lg,
.circle-deco__circle--wave {
  @apply absolute
  block
  w-[14.87rem]
  h-[14.87rem]
  left-[calc(50%_-_7.435rem)]
  rounded-full
  border-2
  border-[var(--green-500)]
  opacity-30
  z-0
  sm:w-[24.5rem]
  sm:h-[24.5rem]
  sm:left-[calc(50%_-_12.25rem)]
  sm:border-3;
}

.circle-deco__circle--wave {
  @apply border
  opacity-0
  scale-[1.2];
}

.circle-deco__circle {
  @apply w-6
  h-6
  shrink-0
  bg-[var(--green-100)]
  rounded-full
  z-[100]
  sm:w-12
  sm:h-12
}

.sustainability-home-report {
  @apply relative
  flex
  items-center
  gap-2
  w-full
  bg-primary-600
  text-white
  no-underline
  rounded-full
  py-6
  pl-10
  pr-6
  mt-10
  transition-colors
  duration-300
  ease-in-out
  z-10
  sm:py-8
  sm:pl-18
  sm:pr-16
  md:mt-24
  active:bg-primary-700;
}

.sustainability-home-report__arrow {
  @apply text-xl
  text-green
  transition-[transform,_color]
  duration-300
  ease-in-out
  sm:text-[2.75rem];
}

.sustainability-home-report:active .sustainability-home-report__arrow {
  @apply translate-x-4
  text-white;
}

@media (hover: hover) {
  .sustainability-home-report {
    @apply hover:bg-primary-500;
  }

  .sustainability-home-report:hover .sustainability-home-report__arrow {
    @apply translate-x-4
    text-white;
  }
}

/*========================================
    Home - Make a difference
  ========================================*/
.card-with-pop-up-image {
  @apply space-y-4;
}

.card-with-pop-up-image__item {
  @apply relative
    rounded-full
    overflow-visible
    active:z-20;
}

.card-with-pop-up-image__card {
  @apply flex
    gap-14
    relative
    px-18
    py-10
    items-center
    no-underline
    rounded-full
    border
    border-neutral-200
    overflow-hidden
    z-0;
}

.card-with-pop-up-image__image {
  --card-with-pop-up-image-y: 8.625rem;
  --card-with-pop-up-image-x: 9.4375rem;

  @apply absolute
    top-[var(--card-with-pop-up-image-y)]
    right-[var(--card-with-pop-up-image-x)]
    w-[21.875rem]
    h-[21.875rem]
    rounded-full
    shadow-2xl
    scale-0
    transition-transform
    duration-500
    delay-0
    ease-in-out
    z-30;
}

.card-with-pop-up-image__content {
  @apply grow
    text-left
    z-10;
}

.card-with-pop-up-image__content > * {
  @apply text-primary-700
    transition-colors
    duration-300
    ease-in-out;
}

.card-with-pop-up-image__icon {
  @apply w-14
    h-14
    z-10;
}

.card-with-pop-up-image__icon img {
  @apply w-full
    object-contain
    object-center
    transition-[filter]
    duration-300
    ease-in-out;
}

.card-with-pop-up-image__arrow {
  @apply text-secondary-500
    transition-[color,_transform]
    duration-300
    ease-in-out
    z-10;
}

.card-with-pop-up-image__card::before {
  @apply content-[""]
    block
    absolute
    w-full
    h-[calc(100%_-_3rem)]
    origin-bottom
    scale-y-0
    top-6
    left-0
    bg-primary-500
    z-0
    transition-transform
    duration-300
    ease-in-out;
}

.card-with-pop-up-image__item:nth-child(even)
  .card-with-pop-up-image__card::before {
  @apply bg-secondary-600;
}

.card-with-pop-up-image__item:active
  .card-with-pop-up-image__card::before {
  @apply bg-primary-600;
}

.card-with-pop-up-image__item:nth-child(even):active
  .card-with-pop-up-image__card::before {
  @apply bg-secondary-700;
}

.card-with-pop-up-image__item:active .card-with-pop-up-image__arrow {
  @apply translate-x-4;
}

@media (hover: hover) {
  .card-with-pop-up-image__item:hover {
    @apply z-20;
  }

  .card-with-pop-up-image__item:hover .card-with-pop-up-image__card::before {
    @apply scale-y-100;
  }

  .card-with-pop-up-image__item:hover .card-with-pop-up-image__content > *,
  .card-with-pop-up-image__item:hover .card-with-pop-up-image__arrow {
    @apply text-[var(--green-100)];
  }

  .card-with-pop-up-image__item:hover .card-with-pop-up-image__icon img {
    @apply saturate-0
      brightness-[10];
  }

  .card-with-pop-up-image__item:hover .card-with-pop-up-image__image {
    @apply scale-100
      delay-200
      z-40;
  }
}

.blue-red-cards .card {
  @apply text-white
    bg-primary-500
    even:bg-secondary-600
    [&:not([disabled])]:active:text-white
    [&:not([disabled])]:active:bg-primary-600
    [&:not([disabled])]:active:even:bg-secondary-700;
}

.blue-red-cards .card:not([disabled]):active .card-description {
  @apply text-white;
}

.blue-red-cards .card .paragraph-1,
.blue-red-cards .card .paragraph-2,
.blue-red-cards .card .paragraph-3 {
  @apply text-white;
}

.card-arrow {
  @apply transition-transform
    duration-300
    ease-in-out;
}

.card:active .card-arrow {
  @apply translate-x-3;
}

@media (hover: hover) {
  .blue-red-cards .card {
    @apply hover:text-white
    [&:not([disabled])]:hover:bg-primary-600
    [&:not([disabled])]:hover:even:bg-secondary-700;
  }

  .blue-red-cards .card:not([disabled]):hover .card-description {
    @apply text-white;
  }

  .blue-red-cards .card:hover .paragraph-1,
  .blue-red-cards .card:hover .paragraph-2,
  .blue-red-cards .card:hover .paragraph-3 {
    @apply text-white;
  }

  .card:hover .card-arrow {
    @apply translate-x-3;
  }
}

/*========================================
    Home - Four circles
  ========================================*/
.four-circles {
  @apply text-white
  max-w-[100vw]
  px-8
  overflow-hidden;
}

.four-circles__inner {
  @apply flex
  gap-8
  items-center
  justify-start
  w-full
  max-w-container-full-sm
  py-10
  mx-auto
  /* sm:py-[5.3125rem] */
  max-lg:flex-col
  max-lg:text-center
  lg:justify-between
  lg:gap-15
  xl:gap-[6rem];
}

.four-circles__intro__content {
  @apply flex
  flex-col
  gap-4
  w-full
  max-w-[28.75rem]

  max-lg:items-center
  max-lg:text-center
  lg:gap-6;
}

.four-circles__chart {
  @apply relative
    w-[calc(100%_-_1rem)]
    max-w-[30rem]
    shrink-0
    aspect-[1.1168_/_1]
    z-10
    max-lg:mx-auto
    xl:max-w-[41.8125rem];
}

.four-circles__chart__item {
  @apply absolute
  flex
  border-2
  border-[var(--green-500)]
  rounded-full
  w-[47.085%]
  aspect-square;
}

.four-circles__chart__item:first-child {
  @apply top-[3.886%]
  left-[27.055%]
  z-10;
}

.four-circles__chart__item:nth-child(2n) {
  @apply items-center
  top-[22.627%]
  left-[9.566%];
}

.four-circles__chart__item:nth-child(3n) {
  @apply items-center
  top-[22.627%]
  left-auto
  right-[9.566%];
}

.four-circles__chart__item:nth-child(4n) {
  @apply items-end
  top-auto
  bottom-[3.886%]
  left-[27.055%];
}

.four-circles__chart__item__content {
  @apply flex
  flex-col
  items-center
  text-center
  w-[min(11.25rem,_80%)]
  mx-auto;
}

.four-circles__chart__item:first-child .four-circles__chart__item__content {
  @apply -mt-8;
}

.four-circles__chart__item:nth-child(2n) .four-circles__chart__item__content {
  @apply -ml-[min(5.625rem,_40%)];
}

.four-circles__chart__item:nth-child(3n) .four-circles__chart__item__content {
  @apply -mr-[min(5.625rem,_40%)];
}

.four-circles__chart__item:nth-child(4n) .four-circles__chart__item__content {
  @apply ml-auto
  -mb-6;
}

.four-circles__chart__item__image {
  @apply absolute
  w-full
  aspect-square
  rounded-full
  overflow-hidden
  scale-0
  opacity-5
  transition-[opacity,_transform]
  duration-400
  ease-in-out
  
  after:content-[""]
  after:block
  after:absolute
  after:left-0
  after:top-0
  after:w-full
  after:h-full
  after:z-10;
}

.four-circles__chart__item__image::after {
  background: radial-gradient(
    49.39% 49.39% at 53.85% 32.31%,
    rgba(0, 0, 0, 0) 0%,
    rgba(0, 0, 0, 0.8) 100%
  );
}

.four-circles__chart__item__image img {
  @apply w-full
  object-cover
  object-center;
}

.four-circles__chart__item:first-child .four-circles__chart__item__image {
  @apply mt-8;
}

.four-circles__chart__item:nth-child(2n) .four-circles__chart__item__image {
  @apply ml-[min(5.375rem,_27.055%)]
  top-0
  -left-[27.055%];
}

.four-circles__chart__item:nth-child(3n) .four-circles__chart__item__image {
  @apply mr-[min(5.375rem,_27.055%)]
  top-0
  left-auto
  -right-[27.055%];
}

.four-circles__chart__item:nth-child(4n) .four-circles__chart__item__image {
  @apply mt-auto
  mb-[min(0.75rem,_3.886%)]
  top-auto
  -bottom-[3.886%]
  -left-[27.055%];
}

.four-circles__chart__item__content > span,
.four-circles__chart__item__content > button {
  @apply z-20;
}

.four-circles__chart__item__content > span {
  --four-circles-outline-color: theme(colors.primary.600);

  filter: drop-shadow(0 1px 0 var(--four-circles-outline-color))
    drop-shadow(0 -1px 0 var(--four-circles-outline-color))
    drop-shadow(-1px 0 0 var(--four-circles-outline-color))
    drop-shadow(1px 0 0 var(--four-circles-outline-color))
    drop-shadow(0 3px 2px var(--four-circles-outline-color))
    drop-shadow(0 -3px 2px var(--four-circles-outline-color))
    drop-shadow(-3px 0 2px var(--four-circles-outline-color))
    drop-shadow(3px 0 2px var(--four-circles-outline-color));

  @apply z-10
  xs:px-3;
}


.four-circles__chart__item__content > button {
  @apply relative
  z-20;
}

.four-circles__mobile-text {
  @apply w-full
  text-center;
}

@media (hover: hover) {
  .four-circles__chart__item {
    @apply hover:z-10;
  }

  .four-circles__chart__item__content
    > button:hover
    ~ .four-circles__chart__item__image {
    @apply scale-100
    opacity-100;
  }

  .four-circles__mobile-text {
    @apply hidden;
  }
}

.four-circles__chart__intersection {
  @apply absolute
  w-[11.958%]
  h-[11.509%]
  left-[44%]
  top-[32%]
  scale-x-[1.2]
  scale-y-[1.25];
}

.green-blob {
  --green-blob-size-sm: 7rem;
  --green-blob-size-md: 8rem;
  --green-blob-size: 9rem;

  @apply w-[var(--green-blob-size-sm)]
  h-[var(--green-blob-size-sm)]
  lg:w-[var(--green-blob-size-md)]
  lg:h-[var(--green-blob-size-md)]
  xl:w-[var(--green-blob-size)]
  xl:h-[var(--green-blob-size)];
}

.four-circles__chart .sustainability-green-blob {
  @apply absolute
  left-[32%]
  top-[18%]
  scale-0
  z-[100]
  xs:left-[39%]
  xs:top-[26%];
}

.sustainability-green-blob--fixed {
  @apply fixed
  z-[100]
  w-[var(--green-blob-size-sm)]
  h-[var(--green-blob-size-sm)]
  left-[calc(50dvw_-_3rem)]
  top-[calc(50dvh_-_3rem)]

  lg:w-[var(--green-blob-size-md)]
  lg:h-[var(--green-blob-size-md)]
  lg:left-[calc(50dvw_-_3.5rem)]
  lg:top-[calc(50dvh_-_3.5rem)]

  xl:w-[var(--green-blob-size)]
  xl:h-[var(--green-blob-size)]
  xl:left-[calc(50dvw_-_4.5rem)]
  xl:top-[calc(50dvh_-_4.5rem)];
}

.sustainability-green-blob--fixed .green-blob {
  @apply scale-100;
}

.four-circles__headline {
  @apply flex
  items-center
  justify-center
  w-full
  /* w-[calc(100%_-_3rem)] */
  absolute
  opacity-0
  translate-y-[10rem]
  mt-[20rem]
  /* -ml-8 */
  -z-10;
}

/*==========================================================
    Living lab - Three circles scroll section (intro)
  ==========================================================*/
.three-circles {
  @apply max-w-[min(100vw,_2560px)]
  overflow-hidden;
}

.three-circles__intro {
  @apply flex
    items-center
    justify-center
    py-10
    text-white
    lg:justify-center
    /* lg:pt-[5.8125rem]
    lg:pb-[6.75rem]; */
}

.three-circles__intro > div {
  @apply flex
    gap-8
    items-center
    max-lg:flex-col
    max-lg:text-center
    lg:gap-15
    xl:gap-[6rem];
}

.three-circles__intro__content {
  @apply flex
    flex-col
    gap-4
    max-lg:max-w-container-md
    max-lg:mx-auto
    xl:gap-6;
}

/* Three circles */
.three-circles__chart {
  @apply relative
    w-full
    max-w-[20rem]
    shrink-0
    aspect-[1.0123_/_1]
    z-10
    lg:max-w-[25rem]
    xl:max-w-[35.87rem];
}

/* Individual circles */
.three-circles__chart__item {
  --circle-arrow-head-opacity: 1;

  @apply absolute
    border-2
    border-[var(--green-500)]
    bg-primary-600
    rounded-full
    w-[36.236%]
    aspect-square;
}

.three-circles__chart__item:nth-child(1) {
  @apply top-0
    left-[31.882%];
}

.three-circles__chart__item:nth-child(2) {
  @apply bottom-0
    left-0;
}

.three-circles__chart__item:nth-child(3) {
  @apply bottom-0
    right-0;
}

.three-circles__chart__item--transition {
  --circle-transition-scale: 1;

  @apply opacity-0
    left-[31.882%]
    top-[0.125rem]
    z-[100]
    scale-[var(--circle-transition-scale)];
}

@media (hover: hover) {
  .three-circles__chart__item--transition {
    @apply top-0;
  }
}

/* Circle label */
.three-circles__chart__item span {
  @apply flex
    items-center
    justify-center
    text-center
    w-full
    h-full
    px-2
    overflow-hidden
    lg:px-7;
}

/* Arrow lines */
.three-circles__chart__item__line {
  --circle-arrow-line-scale: 1;

  @apply content-[""]
    block
    absolute
    h-[75%]
    w-[0.0625rem]
    bg-[var(--green-500)]
    origin-center;
}

.three-circles__chart__item__line:nth-child(4) {
  @apply top-[35%]
    left-[32%]
    h-[29%];

  transform: rotate(30deg) scaleY(var(--circle-arrow-line-scale));
}

.three-circles__chart__item__line:nth-child(5) {
  @apply top-[35%]
    right-[32%]
    left-auto
    h-[29%];

  transform: rotate(-30deg) scaleY(var(--circle-arrow-line-scale));
}

.three-circles__chart__item__line:nth-child(6) {
  @apply bottom-[5%]
    left-[50%]
    top-auto
    h-[23%];

  transform: rotate(90deg) scaleY(var(--circle-arrow-line-scale));
}

/* Arrow heads */
.three-circles__chart__item__line::before,
.three-circles__chart__item__line::after {
  @apply content-[""]
    block
    absolute
    rotate-45
    h-[0.5rem]
    w-[0.5rem]
    border-b-[0.0625rem]
    border-r-[0.0625rem]
    border-[var(--green-500)];
}

.three-circles__chart__item__line::before {
  @apply -rotate-[135deg]
    -left-1;
}

.three-circles__chart__item__line::after {
  @apply rotate-45
    bottom-0
    -left-1;
}

/*==========================================================
    Living lab - Three circles scroll section (section)
  ==========================================================*/
.three-circles__section__wrapper {
  @apply bg-transparent;
}

section.scroll-fixed.three-circles__section__wrapper:not(
    .three-circles__section__wrapper--intro
  ) {
  @apply z-50
  overflow-visible;
}

.three-circles__section {
  @apply flex
    justify-center
    items-start
    relative
    max-w-[100vw]
    overflow-y-visible;
}

.three-circles__section__inner {
  @apply relative
    flex
    flex-col
    gap-6
    w-full
    max-w-container-xl-p
    mx-auto
    px-6
    py-10
    max-lg:justify-center
    lg:pt-[7.6875rem]
    lg:pb-[7.375rem]
    lg:flex-row
    lg:items-center
    lg:justify-between;
}

.three-circles__section--3 .three-circles__section__inner {
  @apply xl:pt-20
  xl:pb-[8.875rem];
}

.three-circles__section__content {
  @apply relative
    w-full
    max-w-[26rem]
    z-10
    mb-14
    sm:max-w-[50%]
    sm:-mb-[15rem]
    md:max-w-[26rem]
    md:-mb-[5rem]
    lg:mb-0
    max-lg:order-1;
}

.three-circles__section--1 .three-circles__section__content {
  @apply lg:-mt-[6rem];
}

.three-circles__section--3 .three-circles__section__content {
  @apply xl:max-w-container-md
    xl:pt-[10.625rem];
}

* + .three-circles__section__heading {
  @apply mt-2;
}

* + .three-circles__section__sub-heading {
  @apply mt-2
    sm:mt-4;
}

* + .three-circles__section__description {
  @apply mt-4;
}

.three-circles__section__heading {
  @apply text-primary-700;
}

.three-circles__section__description a {
  @apply text-[var(--green-500)]
  no-underline;
}

.three-circles__section__image {
  --three-circles-image-width-xs: 17rem;
  --three-circles-image-width-sm: 18rem;
  --three-circles-image-width-md: 19rem;
  --three-circles-image-width: 30.4375rem;

  --three-circles-image-width-3: 25.6875rem;

  @apply relative
    w-[var(--three-circles-image-width-xs)]
    max-w-[calc(100vw_-_6rem)]
    aspect-[0.972_/_1]

    max-xs:mx-auto
    xs:w-[var(--three-circles-image-width-sm)]
    xs:ml-auto
    xs:max-w-[calc(100vw_-_12rem)]

    md:w-[var(--three-circles-image-width-md)]

    max-lg:order-2
    lg:w-[var(--three-circles-image-width)]
    lg:mx-0;
}

.three-circles__section--3 .three-circles__section__image {
  @apply w-[var(--three-circles-image-width-xs)]

    xs:w-[var(--three-circles-image-width-sm)]

    md:w-[var(--three-circles-image-width-md)]

    lg:w-[var(--three-circles-image-width)]

    xl:w-[var(--three-circles-image-width-3)]
    xl:-mr-19;
}

.three-circles__section__image__image {
  @apply relative
    rounded-full
    max-w-[calc(100vw_-_6rem)]
    aspect-[0.972_/_1]
    overflow-hidden
    top-10
    z-10
    xs:max-w-[calc(100vw_-_10rem)];
}

.three-circles__section__image__image > img {
  @apply min-w-[min(var(--three-circles-image-width-xs),_calc(100vw_-_6rem))]
    aspect-[0.972_/_1]
    absolute

    xs:min-w-[min(var(--three-circles-image-width-sm),_calc(100vw_-_10rem))]

    md:min-w-[var(--three-circles-image-width-md)]

    lg:min-w-[var(--three-circles-image-width)];
}

.three-circles__section--3 .three-circles__section__image__image > img {
  @apply min-w-[min(var(--three-circles-image-width-3-xs),_calc(100vw_-_6rem))]

    xs:min-w-[min(var(--three-circles-image-width-3-sm),_calc(100vw_-_10rem))]

    md:min-w-[var(--three-circles-image-width-md)]

    lg:min-w-[var(--three-circles-image-width)]

    xl:min-w-[var(--three-circles-image-width-3)];
}

.three-circles__section__circle--lg,
.three-circles__section__circle--md,
.three-circles__section__circle--sm {
  @apply absolute;
}

.three-circles__section__circle--lg {
  @apply w-[160vw]
    -left-[30vw]
    top-[10vw]
    aspect-square
    rounded-full
    border-2
    border-[var(--green-600)]
    z-0
    origin-bottom

    xs:max-w-[max(40rem,_110vw)]
    xs:left-auto
    xs:right-[1.5rem]
    xs:top-[3rem]

    sm:max-w-[min(47rem,_110vw)]
    sm:right-auto
    sm:-left-[10rem]
    sm:top-[5rem]

    md:top-[3rem]
    
    lg:max-w-[max(54.5rem,_61vw)]
    lg:-left-[max(14.9375rem,_17vw)]
    lg:-top-[max(2.3125rem,_2.5vw)];
}

.three-circles__section--2 .three-circles__section__circle--lg {
  @apply border-primary-300
    scale-100
    translate-y-0

    lg:max-w-[100vw]
    lg:left-[10rem]
    lg:-top-[25%]

    xl:max-w-[max(86rem,_96vw)]
    xl:-left-[max(8.5rem,_calc(48vw_-_34.5rem))]
    xl:-top-[max(calc(50%_-_8.5rem),_calc(50%_-_9.4vw))];
}

.three-circles__section--3 .three-circles__section__circle--lg {
  @apply lg:max-w-[max(61rem,_68vw)]
    lg:-left-[max(8.5rem,_9.4vw)]
    lg:top-[max(3.5rem,_3.8vw)];
}

@media (min-width: 2560px) {
  .three-circles__section__circle--lg {
    @apply max-w-[97rem]
    -left-[33rem]
    -top-[6rem];
  }

  .three-circles__section--2 .three-circles__section__circle--lg {
    @apply max-w-[153rem]
    -left-[42.7rem]
    -top-[calc(50%_-_15rem)];
  }

  .three-circles__section--3 .three-circles__section__circle--lg {
    @apply max-w-[108rem]
    -left-[25rem]
    top-[12rem];
  }
}

.three-circles__section__circle--md {
  --circle-md-size-xs: 3.5rem;
  --circle-md-size-sm: 4.5rem;
  --circle-md-size: 5.875rem;

  --circle-md-3-size-xs: 3.5rem;
  --circle-md-3-size-sm: 4.25rem;
  --circle-md-3-size: 4.25rem;

  @apply aspect-square
    left-2
    -top-4
    z-0
    w-[var(--circle-md-size-xs)]

    xs:w-[var(--circle-md-size-sm)]

    md:top-8

    lg:w-[var(--circle-md-size)]
    lg:left-6
    lg:top-8;
}

.three-circles__section--2 .three-circles__section__circle--md {
  @apply left-auto
    right-0
    top-0
    z-20

    md:top-20

    lg:left-auto
    lg:right-4
    lg:top-20;
}

.three-circles__section--3 .three-circles__section__circle--md {
  @apply left-auto
    right-0
    -top-4
    w-[var(--circle-md-3-size-xs)]

    xs:w-[var(--circle-md-3-size-sm)]

    md:left-auto
    md:top-8

    lg:w-[var(--circle-md-size)]
    lg:top-14
    lg:left-auto

    xl:w-[var(--circle-md-3-size)]
    xl:top-16;
}

.three-circles__section__circle--sm {
  --circle-sm-size-xs: 2rem;
  --circle-sm-size-sm: 3rem;
  --circle-sm-size: 4.1875rem;

  --circle-sm-3-size-xs: 2rem;
  --circle-sm-3-size-sm: 3rem;
  --circle-sm-3-size: 2.5rem;

  @apply aspect-square
    right-10
    bottom-[2rem]
    z-20
    w-[var(--circle-sm-size-xs)]

    xs:w-[var(--circle-sm-size-sm)]

    md:bottom-0

    lg:w-[var(--circle-sm-size)]
    lg:-bottom-[0.75rem];
}

.three-circles__section--2 .three-circles__section__circle--sm {
  @apply right-auto
    left-6
    bottom-[2.5rem]
    z-0

    md:-bottom-[3rem]
    md:left-17

    lg:-bottom-[1rem];
}

.three-circles__section--3 .three-circles__section__circle--sm {
  @apply right-auto
    bottom-auto
    -left-6
    top-[9rem]
    w-[var(--circle-sm-3-size-xs)]

    xs:w-[var(--circle-sm-3-size-sm)]

    sm:-left-4

    md:top-[16rem]
    md:-left-6

    lg:w-[var(--circle-sm-size)]
    lg:top-[17rem]
    
    xl:w-[var(--circle-sm-3-size)]
    xl:top-[17rem];
}

.three-circles__section__circle__circle {
  @apply w-full
    aspect-square
    rounded-full;
}

.three-circles__section__circle--md .three-circles__section__circle__circle {
  @apply bg-primary-600
    w-[var(--circle-md-size-xs)]

    xs:w-[var(--circle-md-size-sm)]

    lg:w-[var(--circle-md-size)];
}

.three-circles__section--3
  .three-circles__section__circle--md
  .three-circles__section__circle__circle {
  @apply bg-secondary-600
    w-[var(--circle-md-3-size-xs)]

    xs:w-[var(--circle-md-3-size-sm)]

    lg:w-[var(--circle-md-size)]

    xl:w-[var(--circle-md-3-size)];
}

.three-circles__section__circle--sm .three-circles__section__circle__circle {
  @apply bg-primary-50
    w-[var(--circle-sm-size-xs)]

    xs:w-[var(--circle-sm-size-sm)]

    lg:w-[var(--circle-sm-size)];
}

.three-circles__section--2
  .three-circles__section__circle--sm
  .three-circles__section__circle__circle {
  @apply bg-secondary-600;
}

.three-circles__section--3
  .three-circles__section__circle--sm
  .three-circles__section__circle__circle {
  @apply w-[var(--circle-sm-3-size-xs)]

    xs:w-[var(--circle-sm-3-size-sm)]

    lg:w-[var(--circle-sm-size)]

    xl:w-[var(--circle-sm-3-size)];
}

/*==========================================================
    ASI, NYPxAMK - Intro (with circle images)
  ==========================================================*/
.intro-banner {
  @apply flex
    flex-col-reverse
    gap-12
    items-center
    justify-center
    max-w-container-full-sm-p
    px-8
    py-10
    mx-auto
    sm:py-16
    lg:justify-between
    lg:flex-row
    xl:gap-21;
}

.intro-banner__content {
  @apply flex
    flex-col
    w-full
    gap-4
    max-w-container-sm;
}

.intro-banner__content__logo {
  @apply h-auto
  w-[12.5rem];
}

.intro-banner__image {
  @apply relative
    w-full
    max-w-[38.5rem]
    aspect-[0.95_/_1];
}

.intro-banner__image__item,
.intro-banner__image__circle--md,
.intro-banner__image__circle--sm {
  @apply rounded-full
  aspect-square;
}

.intro-banner__image__item {
  @apply z-10;
}

.intro-banner__image__item:nth-child(1n) {
  @apply w-[62.43%]
  relative;
}

.intro-banner__image__item:nth-child(2n) {
  @apply w-[42.95%]
  absolute
  right-0
  top-[43%];
}

.intro-banner__image__item:nth-child(3n) {
  @apply w-[36.69%]
  absolute
  left-[17.75%]
  bottom-0;
}

.intro-banner__image__circle--md {
  @apply w-[11.65%]
  bg-secondary-600
  absolute
  top-[1.56%]
  left-[2.43%];
}

.intro-banner__image__circle--sm {
  @apply w-[6.95%]
  bg-neutral-50
  absolute
  top-[75%]
  right-[4.69%]
  z-20;
}

/*==========================================================
    ASI, NYPxAMK - Carousel with progress indicator
  ==========================================================*/
.carousel-progress {
  @apply flex
  gap-4
  sm:gap-12
  xl:gap-24;
}

.carousel-progress__indicator {
  --carousel-progress-percent: 0%;

  @apply flex
  flex-col
  justify-between
  relative
  
  before:content-[""]
  before:block
  before:absolute
  before:w-[0.125rem]
  before:h-full
  before:left-[0.3125rem]
  before:bg-neutral-300
  before:z-0
  
  after:content-[""]
  after:block
  after:absolute
  after:w-[0.125rem]
  after:h-[var(--carousel-progress-percent)]
  after:left-[0.3125rem]
  after:bg-secondary-500
  after:z-10;
}

.carousel-progress__indicator__item {
  @apply relative
  w-3
  h-3
  rounded-full
  bg-white
  border-2
  border-neutral-300
  z-20;
}

.carousel-progress__slides {
  @apply relative
  grow;
}

.carousel-progress__item {
  @apply absolute
  top-0
  left-0
  flex
  flex-col
  gap-8
  justify-between
  w-full
  invisible
  z-0
  md:flex-row
  md:items-center
  lg:items-end;
}

.carousel-progress__item:first-child {
  @apply relative
  visible
  z-10;
}

.carousel-progress__content {
  @apply w-full
  max-w-[30.6875rem]
  py-3
  select-none
  md:py-8;
}

.carousel-progress__image {
  @apply w-full
  max-w-[20rem]
  aspect-[0.9733_/_1]
  rounded-full
  overflow-hidden
  max-md:hidden
  lg:max-w-[29.625rem];
}

.carousel-progress__image img {
  @apply w-full
  object-cover
  object-center;
}


/*========================================
    Report - Stats circles
  ========================================*/
.stats-circle {
  @apply flex
    flex-wrap
    items-center
    justify-center
    w-full
    max-w-[54rem]
    mx-auto
    pt-2
    pb-10
    xl:pt-3
    xl:pb-11;
}

.stats-circle__item {
  @apply inline-flex
    flex-col
    items-center
    justify-center
    w-[50%]
    p-6
    rounded-full
    aspect-square
    border
    border-neutral-400
    text-center
    last:ml-0
    max-xs:-my-2
    xs:p-8
    max-lg:max-w-[15rem]
    lg:w-[33.3333%]
    max-xl:-my-3
    xl:w-[25%]
    even:translate-y-8;
}

.stats-circle__item p + p {
  @apply mt-0;
}

.stats-circle__item + .stats-circle__item {
  @apply -ml-6
  xs:-ml-8;
}

.stats-circle__item:nth-child(3n) {
  @apply max-sm:ml-0;
}

@media (min-width: 704px) and (max-width: 1279.98px) {
  .stats-circle__item:last-child {
    @apply ml-0;
  }
  .stats-circle__item:last-child:nth-child(3n - 1) {
    @apply -ml-8;
  }
  .stats-circle__item:last-child:nth-child(3n) {
    @apply -ml-8;
  }
}

.stats-circle__item:nth-child(odd) .stats-circle__title {
  @apply text-primary-500;
}

.stats-circle__item:nth-child(even) .stats-circle__title {
  @apply text-secondary-600;
}

/*========================================
    Utilities
  ========================================*/
.bold-to-green strong,
.bold-to-green b {
  @apply !text-[var(--green-500)];
}

.bg-sustainability {
  @apply bg-[var(--green-100)];
}

.text-green {
  @apply text-[var(--green-500)];
}


.white-transparent-image {
  @apply saturate-0
  contrast-[1.2]
  mix-blend-screen;
}